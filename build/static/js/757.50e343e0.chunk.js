"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[757],{23757:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(65043),l=a(93511),o=a(3717),r=a(16422),i=a(897),n=a(85450),d=a(42807),c=a(60446),p=a.n(c),m=a(61485),_=a(73589);const h={container:"style_container__+81jf",header:"style_header__zM1cn",header_title:"style_header_title__Na18B",header_created:"style_header_created__inFcF",body:"style_body__ygHJ1",body_head_cnt:"style_body_head_cnt__ydNQZ",body_org:"style_body_org__ks0kn",body_org_img:"style_body_org_img__u-856",body_org_detail:"style_body_org_detail__Tqs3N",org_name:"style_org_name__QGV+j",org_address:"style_org_address__vq-FB",org_contact:"style_org_contact__YXKFR",org_contact_title:"style_org_contact_title__KmmWm",body_approve_detail:"style_body_approve_detail__mhwUg",body_approve_section:"style_body_approve_section__qXLJ+",body_approve_title:"style_body_approve_title__NxpbT",body_approve_btn:"style_body_approve_btn__zzYaK",approve_list:"style_approve_list__5HUQL",approve_list_show:"style_approve_list_show__-MsYE",approve_list_item:"style_approve_list_item__iAYlh",body_log_cnt:"style_body_log_cnt__EcGgV",body_log_left:"style_body_log_left__r8uJC",body_log_right:"style_body_log_right__CoNIq",approve_logs:"style_approve_logs__tYunn",approve_logs_item:"style_approve_logs_item__gi-xC",log_item:"style_log_item__hDeI5",log_item_date:"style_log_item_date__roojc",approve_bot:"style_approve_bot__4+1-J"};var x=a(2011),u=a(95434),g=a(70579);const b=function(e){var t,a,l;const{open:n,setOpen:c,approve:b}=e,y=(0,o.S3)(),[v,j]=(0,s.useState)({log:"",status:b.status}),{noti:f,firstLoad:N,resultLoad:k,onCloseNoti:A}=(0,o.m4)(),[w,S]=(0,s.useState)(!1);(0,o.YJ)(w&&n,i.ts.APPROVES,{...r.K_,page:null!==(t=null===y||void 0===y?void 0:y.page)&&void 0!==t?t:1});const C=(0,s.useRef)(),W=()=>{var e,t;null===(e=C.current)||void 0===e||null===(t=e.classList)||void 0===t||t.toggle(h.approve_list_show)};let D=!1;return"APPROVED"!==b.status&&"REJECT"!==b.status||(D=!0),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(m.A,{open:n,onClose:()=>{S(!1),c(!1)},children:[(0,g.jsx)(u.JG,{title:f.message,open:f.openAlert,onClose:A}),(0,g.jsxs)("div",{className:h.container,children:[(0,g.jsxs)("div",{className:h.header,children:[(0,g.jsx)("span",{className:h.header_title,children:"Chi ti\u1ebft ki\u1ec3m duy\u1ec7t"}),(0,g.jsxs)("span",{className:h.header_created,children:["Ng\xe0y t\u1ea1o:",p()(b.created_at).format("HH:mm DD/MM/YYYY")]})]}),b.organization&&(0,g.jsx)("div",{className:h.body,children:(0,g.jsxs)("div",{className:h.body_head_cnt,children:[(0,g.jsxs)("div",{className:h.body_org,children:[(0,g.jsx)("div",{className:h.body_org_img,children:(0,g.jsx)("img",{onError:e=>(0,d.pG)(e),src:b.organization.image_url,alt:""})}),(0,g.jsxs)("div",{className:h.body_org_detail,children:[(0,g.jsx)("p",{title:"Xem gian h\xe0ng",className:h.org_name,children:b.organization.name}),(0,g.jsx)("p",{className:h.org_address,children:b.organization.full_address}),(0,g.jsxs)("div",{className:h.org_contact,children:[(0,g.jsx)("p",{className:h.org_contact_title,children:"Th\xf4ng tin li\xean l\u1ea1c"}),(0,g.jsx)("div",{className:h.org_contact_list,children:null===(a=b.organization.telephone)||void 0===a?void 0:a.map((e=>(0,g.jsx)("p",{className:h.org_contact_item,children:e},e)))})]})]})]}),(0,g.jsxs)("div",{className:h.body_approve_detail,children:[(0,g.jsxs)("div",{className:h.body_approve_section,children:[(0,g.jsx)("p",{className:h.body_approve_title,children:"Ki\u1ec3m duy\u1ec7t cho"}),(0,g.jsx)(x.Iw,{type:b.type})]}),(0,g.jsxs)("div",{className:h.body_approve_section,children:[(0,g.jsx)("p",{className:h.body_approve_title,children:"Tr\u1ea1ng th\xe1i"}),(0,g.jsx)(x.o5,{status:v.status}),(0,g.jsxs)("button",{style:D?{cursor:"not-allowed"}:{},disabled:D,onFocus:W,onBlur:W,className:h.body_approve_btn,children:[(0,g.jsx)("i",{className:"bi bi-pencil-fill fs-5"}),(0,g.jsx)("ul",{ref:C,className:h.approve_list,children:x.tC.map((e=>(0,g.jsx)("li",{onClick:()=>{return t=e.STATUS,j({...v,status:t});var t},className:h.approve_list_item,children:(0,g.jsx)(x.o5,{status:e.STATUS})},e.STATUS)))})]})]})]})]})}),(0,g.jsxs)("div",{className:h.body_log_cnt,children:[(0,g.jsxs)("div",{className:h.body_log_left,children:[(0,g.jsx)("span",{className:h.body_approve_title,children:"Ghi ch\xfa"}),(0,g.jsx)("ul",{className:h.approve_logs,children:null===(l=b.logs)||void 0===l?void 0:l.map((e=>(0,g.jsxs)("li",{className:h.approve_logs_item,children:[(0,g.jsx)("div",{className:h.log_item,children:e.note}),(0,g.jsx)("span",{className:h.log_item_date,children:p()(e.created_at).format("HH:mm DD/MM/YYYY")})]},e.id)))})]}),(0,g.jsxs)("div",{className:h.body_log_right,children:[(0,g.jsx)("span",{className:h.body_approve_title,children:"Vi\u1ebft ghi ch\xfa"}),(0,g.jsx)(u.fs,{onChange:e=>{j({...v,log:e.target.value})},placeholder:"Vi\u1ebft ghi ch\xfa..."})]})]}),(0,g.jsx)("div",{className:h.approve_bot,children:(0,g.jsx)(u.b2,{onClick:async()=>{N();try{await _._H.putApprove(b.id,v),S(!0),k("\u0110\xe3 l\u01b0u thay \u0111\u1ed5i")}catch(e){k("C\xf3 l\u1ed7i x\u1ea3y ra")}},title:"L\u01b0u thay \u0111\u1ed5i",color:"success",loading:f.load,disable:D})})]})]})})};var y=a(86971);const v=function(){var e,t;const a=(0,y.zy)(),s=(0,y.Zp)(),d=(0,o.S3)(),{responseArray:c,totalItem:p,totalPage:m}=(0,o.YJ)(!0,i.ts.APPROVES,{...r.K_,page:null!==(e=null===d||void 0===d?void 0:d.page)&&void 0!==e?e:1});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.A,{title:"Ki\u1ec3m duy\u1ec7t"}),(0,g.jsxs)("div",{className:"card mb-5 mb-xl-8",children:[(0,g.jsxs)("div",{className:"card-header border-0 pt-5",children:[(0,g.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,g.jsx)("span",{className:"card-label fw-bold fs-3 mb-1",children:"Danh s\xe1ch ki\u1ec3m duy\u1ec7t"}),(0,g.jsxs)("span",{className:"text-muted mt-1 fw-semobold fs-7",children:[p," ki\u1ec3m duy\u1ec7t"]})]}),(0,g.jsx)("div",{className:"card-toolbar",children:(0,g.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:(0,g.jsx)(n.aO,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})})})]}),(0,g.jsx)("div",{className:"card-body py-3",children:(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsxs)("table",{className:"table align-middle gs-0 gy-4",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"fw-bold text-muted bg-light",children:[(0,g.jsx)("th",{className:"ps-4 min-w-250px rounded-start",children:"Doanh nghi\u1ec7p"}),(0,g.jsx)("th",{className:"min-w-110px",children:"Duy\u1ec7t cho"}),(0,g.jsx)("th",{className:"min-w-110px",children:" Tr\u1ea1ng th\xe1i "}),(0,g.jsx)("th",{className:"min-w-150px",children:"Ghi ch\xfa"}),(0,g.jsx)("th",{className:"min-w-140px",children:"Ng\xe0y t\u1ea1o"}),(0,g.jsx)("th",{className:"min-w-140px",children:"C\u1eadp nh\u1eadt l\xfac"}),(0,g.jsx)("th",{className:"min-w-100px text-end rounded-end"})]})}),(0,g.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map(((e,t)=>(0,g.jsx)(j,{item:e},t)))})]})})})]}),(0,g.jsx)(u.f_,{totalPage:m,onChangePage:e=>{s({pathname:a.pathname,search:`page=${e}`})},defaultPage:null!==(t=null===d||void 0===d?void 0:d.page)&&void 0!==t?t:1})]})},j=e=>{var t;let{item:a}=e;const[l,o]=(0,s.useState)(!1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{open:l,setOpen:o,approve:a}),(0,g.jsxs)("tr",{children:[a.organization&&(0,g.jsx)("td",{children:(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("div",{className:"symbol symbol-50px me-5",children:(0,g.jsx)(u.eu,{src:a.organization.image_url})}),(0,g.jsxs)("div",{className:"d-flex justify-content-start flex-column",children:[(0,g.jsx)("span",{className:"text-dark fw-bold text-hover-primary mb-1 fs-6",children:a.organization.name}),(0,g.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:a.organization.address})]})]})}),(0,g.jsx)("td",{children:(0,g.jsx)(d.Iw,{type:a.type})}),(0,g.jsx)("td",{children:(0,g.jsx)(d.o5,{status:a.status})}),(0,g.jsx)("td",{children:a.logs.length>0&&(0,g.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7 mt-1",children:null===(t=a.logs[0])||void 0===t?void 0:t.note})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7 mt-1",children:p()(a.created_at).format("HH:mm - DD/MM/YYYY")})}),(0,g.jsx)("td",{children:(0,g.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7 mt-1",children:p()(a.updated_at).format("HH:mm - DD/MM/YYYY")})}),(0,g.jsx)("td",{className:"text-end",children:(0,g.jsx)("button",{onClick:()=>o(!0),className:"btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4",children:(0,g.jsx)("i",{className:"bi bi-pencil-fill fs-6"})})})]})]})}},93511:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(70579);const l=function(e){const{title:t,element:a}=e;return(0,s.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,s.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,s.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:t}),a]})})}},61485:(e,t,a)=>{a.d(t,{A:()=>C});var s=a(98587),l=a(58168),o=a(65043),r=a(69292),i=a(98610),n=a(5844),d=a(6803),c=a(38679),p=a(56258),m=a(63336),_=a(6431),h=a(34535),x=a(92532),u=a(72372);function g(e){return(0,u.Ay)("MuiDialog",e)}const b=(0,x.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const y=o.createContext({});var v=a(12220),j=a(26240),f=a(70579);const N=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],k=(0,h.Ay)(v.A,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),A=(0,h.Ay)(c.A,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),w=(0,h.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.container,t[`scroll${(0,d.A)(a.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,l.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),S=(0,h.Ay)(m.A,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.paper,t[`scrollPaper${(0,d.A)(a.scroll)}`],t[`paperWidth${(0,d.A)(String(a.maxWidth))}`],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:a}=e;return(0,l.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===a.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===a.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!a.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===a.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${b.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},a.maxWidth&&"xs"!==a.maxWidth&&{maxWidth:`${t.breakpoints.values[a.maxWidth]}${t.breakpoints.unit}`,[`&.${b.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[a.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},a.fullWidth&&{width:"calc(100% - 64px)"},a.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${b.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),C=o.forwardRef((function(e,t){const a=(0,_.b)({props:e,name:"MuiDialog"}),c=(0,j.A)(),h={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{"aria-describedby":x,"aria-labelledby":u,BackdropComponent:b,BackdropProps:v,children:C,className:W,disableEscapeKeyDown:D=!1,fullScreen:P=!1,fullWidth:Y=!1,maxWidth:M="sm",onBackdropClick:T,onClick:B,onClose:F,open:z,PaperComponent:$=m.A,PaperProps:H={},scroll:R="paper",TransitionComponent:E=p.A,transitionDuration:K=h,TransitionProps:I}=a,J=(0,s.A)(a,N),L=(0,l.A)({},a,{disableEscapeKeyDown:D,fullScreen:P,fullWidth:Y,maxWidth:M,scroll:R}),V=(e=>{const{classes:t,scroll:a,maxWidth:s,fullWidth:l,fullScreen:o}=e,r={root:["root"],container:["container",`scroll${(0,d.A)(a)}`],paper:["paper",`paperScroll${(0,d.A)(a)}`,`paperWidth${(0,d.A)(String(s))}`,l&&"paperFullWidth",o&&"paperFullScreen"]};return(0,i.A)(r,g,t)})(L),G=o.useRef(),O=(0,n.A)(u),X=o.useMemo((()=>({titleId:O})),[O]);return(0,f.jsx)(A,(0,l.A)({className:(0,r.A)(V.root,W),closeAfterTransition:!0,components:{Backdrop:k},componentsProps:{backdrop:(0,l.A)({transitionDuration:K,as:b},v)},disableEscapeKeyDown:D,onClose:F,open:z,ref:t,onClick:e=>{B&&B(e),G.current&&(G.current=null,T&&T(e),F&&F(e,"backdropClick"))},ownerState:L},J,{children:(0,f.jsx)(E,(0,l.A)({appear:!0,in:z,timeout:K,role:"presentation"},I,{children:(0,f.jsx)(w,{className:(0,r.A)(V.container),onMouseDown:e=>{G.current=e.target===e.currentTarget},ownerState:L,children:(0,f.jsx)(S,(0,l.A)({as:$,elevation:24,role:"dialog","aria-describedby":x,"aria-labelledby":O},H,{className:(0,r.A)(V.paper,H.className),ownerState:L,children:(0,f.jsx)(y.Provider,{value:X,children:C})}))})}))}))}))}}]);
//# sourceMappingURL=757.50e343e0.chunk.js.map