"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[445],{33445:function(e,i,s){s.r(i),s.d(i,{default:function(){return f}});var n=s(1413),t=s(70885),l=s(11838),a=s(92506),c=s(17964),r=s(39891),d=s(58702),o=s(39709),m=s(35036),u=s(76863),h=s(91933),x=s(77356),p=s(65298),v=s(66305),N=s(72791),j=s(8423),g=s(80184);var f=function(){var e=(0,p.UD)(),i=e.resultLoad,s=e.noti,f=e.onCloseNoti,b=(0,N.useState)(),y=(0,t.Z)(b,2),k=y[0],C=y[1],_=(0,N.useState)(),Z=(0,t.Z)(_,2),O=Z[0],S=Z[1],q=(0,h.useMutation)({mutationFn:function(e){return(0,m.o6)()===m.WI?j.H5.postNotification(e):x.E8.post(e)},onSuccess:function(){return i({message:"Push th\xf4ng b\xe1o th\xe0nh c\xf4ng",color:"success"})},onError:function(e){var s;i({color:"error",message:"C\xf3 l\u1ed7i x\u1ea3y ra. M\xe3 l\u1ed7i ".concat(null===e||void 0===e||null===(s=e.request)||void 0===s?void 0:s.status)})}}),D=q.mutate,w=q.isLoading,T=(0,a.TA)({initialValues:{title:"",description:"",type:"",link:"",payload_id:""},validationSchema:u.Ry({title:u.Z_().required("Nh\u1eadp ti\xeau \u0111\u1ec1n"),description:u.Z_().required("Nh\u1eadp n\u1ed9i dung"),type:u.Z_().required("Ch\u1ecdn lo\u1ea1i th\xf4ng b\xe1o cho"),link:u.Z_().required("NH\u1eadp \u0111\u01b0\u1eddng d\u1eabn")}),onSubmit:function(e){var i=e.payload_id;Number(e.type)===m.wD.ORG.id&&k&&(i=String(null===k||void 0===k?void 0:k.id)),Number(e.type)===m.wD.DISCOUNT.id&&O&&(i=O.uuid),D((0,n.Z)((0,n.Z)({},e),{},{payload_id:i}))}}),I=T.values,G=T.errors,M=T.handleChange,F=T.handleSubmit,J=T.touched,R=T.setFieldValue;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{title:"Th\xf4ng b\xe1o"}),(0,g.jsx)(v.Ct,{severity:s.color,message:s.message,open:s.openAlert,close:f}),(0,g.jsx)("div",{className:"post d-flex flex-column-fluid",id:"kt_post",children:(0,g.jsxs)("div",{className:"notification-cnt",children:[(0,g.jsxs)("form",{onSubmit:F,className:"form-left",children:[(0,g.jsxs)("div",{className:"column",children:[(0,g.jsx)("div",{className:"required form-label",children:"Ti\xeau \u0111\u1ec1"}),(0,g.jsx)("input",{value:I.title,onChange:M,type:"text",name:"title",className:"form-control form-control-solid mt-1 mb-4"}),G.title&&J.title&&(0,g.jsx)("span",{className:"text-danger",children:G.title})]}),(0,g.jsxs)("div",{className:"column",children:[(0,g.jsx)("div",{className:"required form-label",children:"N\u1ed9i dung th\xf4ng b\xe1o"}),(0,g.jsx)("input",{value:I.description,onChange:M,type:"text",name:"description",className:"form-control form-control-solid mt-1 mb-4"}),G.description&&J.description&&(0,g.jsx)("span",{className:"text-danger",children:G.description})]}),(0,g.jsxs)("div",{className:"column mb-4",children:[(0,g.jsx)("div",{className:"required form-label",children:"Th\xf4ng b\xe1o cho"}),(0,g.jsx)(c.Z,{size:"small",name:"type",value:I.type,onChange:M,children:m.OO.map((function(e){return(0,g.jsx)(r.Z,{value:String(e.id),children:e.title},e.id)}))}),G.type&&J.type&&(0,g.jsx)("span",{className:"text-danger",children:G.type})]}),(0,g.jsxs)(g.Fragment,{children:[Number(I.type)===m.wD.ORG.id&&(0,g.jsx)("div",{className:"column",children:(0,g.jsx)(v.QN,{organization_id:I.payload_id,origin:k,setOrigin:C})}),Number(I.type)===m.wD.PROMOTION.id&&(0,g.jsx)("div",{className:"column",children:(0,g.jsx)(v.qf,{value:I.payload_id,onChange:function(e){return R("payload_id",String(e))}})}),Number(I.type)===m.wD.DISCOUNT.id&&(0,g.jsx)("div",{className:"column",children:(0,g.jsx)(v.G$,{label:"G\u1eafn deal gi\u1ea3m gi\xe1",onChangeDiscounts:function(e){return S(e[e.length-1])},filterAll:!1,platform:m.QD.MOMO,discounts:O?[O]:[]})})]}),(0,g.jsxs)("div",{className:"column",children:[(0,g.jsx)("div",{className:"required form-label",children:"\u0110\u01b0\u1eddng d\u1eabn"}),(0,g.jsx)("input",{value:I.link,onChange:M,type:"text",name:"link",className:"form-control form-control-solid mt-1 mb-4"}),G.link&&J.link&&(0,g.jsx)("span",{className:"text-danger",children:G.link})]}),(0,g.jsx)("div",{className:"d-flex justify-content-end mt-6",children:(0,g.jsx)(o.Z,{type:"submit",variant:"contained",color:"success",loading:w,children:"Push th\xf4ng b\xe1o"})})]}),(0,g.jsxs)("div",{className:"preview-right",children:[(0,g.jsx)("span",{className:"title",children:"Giao di\u1ec7n th\xf4ng b\xe1o"}),(0,g.jsx)("div",{className:"device-cnt",children:(0,g.jsxs)("div",{className:"device",children:[(0,g.jsx)("img",{className:"device-img",src:d.J.android,alt:""}),(0,g.jsx)("div",{className:"device-noti",children:(0,g.jsxs)("div",{className:"item",children:[(0,g.jsx)("div",{className:"item-icon",children:(0,g.jsx)("img",{src:d.J.beautyxIcon,alt:""})}),(0,g.jsxs)("div",{className:"item-right",children:[(0,g.jsx)("p",{className:"item-right-title",children:I.title}),(0,g.jsx)("p",{className:"item-right-content",children:I.description})]})]})})]})}),(0,g.jsx)("div",{className:"device-cnt",children:(0,g.jsxs)("div",{className:"device",children:[(0,g.jsx)("img",{className:"device-img",src:d.J.iphone,alt:""}),(0,g.jsx)("div",{className:"device-noti",style:{marginTop:"50px"},children:(0,g.jsxs)("div",{className:"item",children:[(0,g.jsx)("div",{className:"item-icon",children:(0,g.jsx)("img",{src:d.J.beautyxIcon,alt:""})}),(0,g.jsxs)("div",{className:"item-right",children:[(0,g.jsx)("p",{className:"item-right-title",children:I.title}),(0,g.jsx)("p",{className:"item-right-content",children:I.description})]})]})})]})})]})]})})]})}},11838:function(e,i,s){s.d(i,{Z:function(){return t}});s(72791);var n=s(80184);var t=function(e){var i=e.title,s=e.element;return(0,n.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,n.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,n.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:i}),s]})})}}}]);
//# sourceMappingURL=445.931f2ae4.chunk.js.map