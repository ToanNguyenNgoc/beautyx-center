"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[357],{48357:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var n=s(77234),t=s(6171),i=s(55854),l=s(63516),r=s(36427),o=s(65043),d=s(82907),c=s(86971),u=s(73033),m=s(70579);function h(e){const{isForm:a,tip:s,tipId:h}=e,[p,x]=(0,o.useState)(!(null===s||void 0===s||!s.status)),v=(0,c.Zp)(),{mutate:g,isLoading:b}=(0,d.useMutation)({mutationFn:e=>n.A.updateTip(h,e),onSuccess:()=>{r.q.invalidateQueries([t.Eo.TIP_PAGE]),v(-1)},onError:e=>{console.log(e)}});console.log(b);const{mutate:j,isLoading:y}=(0,d.useMutation)({mutationFn:e=>n.A.postTip(e),onSuccess:()=>{r.q.invalidateQueries([t.Eo.TIP_PAGE]),v(-1)},onError:e=>{console.log(e)}}),N=(0,l.Wx)({initialValues:{name:"EDIT"===a?null===s||void 0===s?void 0:s.name:"",type:"EDIT"===a?null===s||void 0===s?void 0:s.type:"",priority:"EDIT"===a?null===s||void 0===s?void 0:s.priority:0,status:"EDIT"===a?p:1},validationSchema:u.Ik({name:u.Yj().trim().required("Vui l\xf2ng nh\u1eadp n\u1ed9i dung"),type:u.Yj().trim().required("Vui l\xf2ng nh\u1eadp lo\u1ea1i"),priority:u.ai().required("Vui l\xf2ng nh\u1eadp \u0111\u1ed9 \u01b0u ti\xean").min(0,"\u0110\u1ed9 \u01b0u ti\xean th\u1ea5p nh\u1ea5t l\xe0 0")}),onSubmit:e=>{const s={...e,status:e.status?1:0};"ADD"===a?j(s):g(s)}});return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("form",{className:"discount-form mb-10 container",onSubmit:N.handleSubmit,autoComplete:"off",children:(0,m.jsxs)("div",{className:"col-12",children:[(0,m.jsxs)("div",{className:"wrap-item col-12",children:[(0,m.jsx)("label",{className:"form-label",children:"N\u1ed9i dung"}),(0,m.jsx)("textarea",{onChange:N.handleChange,value:N.values.name,className:"form-control",placeholder:"Aa",rows:4,cols:50,name:"name"}),N.errors.name&&N.touched.name&&(0,m.jsx)("span",{className:"text-danger d-block mt-2",children:N.errors.name})]}),(0,m.jsxs)("div",{className:"row mt-10",children:[(0,m.jsxs)("div",{className:"wrap-item col-4",children:[(0,m.jsx)("label",{className:"form-label",children:"Lo\u1ea1i"}),(0,m.jsx)("input",{disabled:"EDIT"===a,onChange:N.handleChange,value:N.values.type,type:"text",className:"form-control",placeholder:"Aa",name:"type"}),N.errors.type&&N.touched.type&&(0,m.jsx)("span",{className:"text-danger d-block mt-2",children:N.errors.type})]}),(0,m.jsxs)("div",{className:"wrap-item col-4",children:[(0,m.jsx)("label",{className:"form-label",children:"\u0110\u1ed9 \u01b0u ti\xean"}),(0,m.jsx)("input",{onChange:N.handleChange,value:N.values.priority,type:"number",className:"form-control",placeholder:"Aa",name:"priority"}),N.errors.priority&&N.touched.priority&&(0,m.jsx)("span",{className:"text-danger d-block mt-2",children:N.errors.priority})]}),(0,m.jsxs)("div",{className:"wrap-item col-4",children:[(0,m.jsx)("label",{className:"form-label",children:"Tr\u1ea1ng th\xe1i"}),(0,m.jsx)("div",{children:(0,m.jsx)(i.Xg,{value:N.values.status,onChange:e=>x(e.target.checked),label:"K\xedch ho\u1ea1t \u0111\u1ec3 hi\u1ec3n th\u1ecb tip"})})]})]}),(0,m.jsxs)("div",{className:"d-flex flex-end gap-4 mt-10",children:[(0,m.jsx)("button",{onClick:()=>v(-1),type:"button",className:"btn btn-primary",children:"Quay l\u1ea1i"}),(0,m.jsx)("button",{disabled:!(!b&&!y),className:"btn btn-success",children:b||y?"Loading...":"L\u01b0u thay \u0111\u1ed5i"})]})]})})})}var p=s(93511);function x(){const e=(0,c.g)();let a="ADD";e&&e.id&&(a="EDIT");const{data:s}=(0,d.useQuery)({queryKey:[t.Eo.TIP_PAGE,e.id],queryFn:()=>n.A.getById(parseInt(e.id))}),i=null===s||void 0===s?void 0:s.context;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.A,{title:null!==e&&void 0!==e&&e.id?"Ch\u1ec9nh s\u1eeda th\xf4ng tin Tip":"T\u1ea1o m\u1edbi Tip"}),("ADD"===a||i)&&(0,m.jsx)(h,{tipId:parseInt(e.id),tip:i,isForm:a})]})}}}]);
//# sourceMappingURL=357.074bee2a.chunk.js.map