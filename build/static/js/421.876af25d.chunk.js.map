{"version":3,"file":"static/js/421.876af25d.chunk.js","mappings":"uRA6EA,QA9DA,WAAsB,IAADA,EACnB,MAAM,KAAEC,EAAI,UAAEC,IAAcC,EAAAA,EAAAA,UAAS,CACnCC,SAAU,CAACC,EAAAA,GAAOC,WAClBC,QAASA,IAAMC,EAAAA,GAAaC,OAAO,CACjC,MAAS,GACT,OAAU,YACV,KAAQ,kBAGZ,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAS,CACRC,MAAM,sDACNC,SACEH,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHC,GAAI,CAAEC,SAAU,yBAChBC,UAAU,yBAAwBR,SACnC,0CAILF,EAAAA,EAAAA,MAAA,OAAKU,UAAU,OAAMR,SAAA,EACnBC,EAAAA,EAAAA,KAAA,OAAKO,UAAU,4BAA2BR,UACxCF,EAAAA,EAAAA,MAAA,MAAIU,UAAU,2CAA0CR,SAAA,EACtDC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,+BAA8BR,SAAC,sBAC/CF,EAAAA,EAAAA,MAAA,QAAMU,UAAU,mCAAkCR,SAAA,EAAM,OAAJX,QAAI,IAAJA,OAAI,EAAJA,EAAMoB,QAAS,EAAE,6BAGzER,EAAAA,EAAAA,KAAA,OAAKO,UAAU,iBAAgBR,UAC7BF,EAAAA,EAAAA,MAAA,OAAKU,UAAU,mBAAkBR,SAAA,EAC/BF,EAAAA,EAAAA,MAAA,SAAOU,UAAU,+BAA8BR,SAAA,EAC7CC,EAAAA,EAAAA,KAAA,SAAAD,UACEF,EAAAA,EAAAA,MAAA,MAAIU,UAAU,8BAA6BR,SAAA,EACzCC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,iCAAgCR,SAAC,qBAC/CC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,mBAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,aAAYR,SAAC,wBAC3BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,gCAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,gCAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,SAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,uBAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,qBAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,wBAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,cAAaR,SAAC,4BAC5BC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,sBAGlBP,EAAAA,EAAAA,KAAA,SAAAD,SAEQ,OAAJX,QAAI,IAAJA,GAAU,QAAND,EAAJC,EAAMA,YAAI,IAAAD,OAAN,EAAJA,EAAYsB,KAAIC,IACdV,EAAAA,EAAAA,KAACW,EAAQ,CAAYC,KAAMF,GAAZA,EAAEG,YAKzBb,EAAAA,EAAAA,KAACc,EAAAA,GAAoB,CAACC,QAAS1B,cAM3C,EAIMsB,EAA+BK,IAAe,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAb,KAAEX,GAAMI,EAC5C,MAAMQ,GAAWC,EAAAA,EAAAA,OACX,KAAEC,IAASC,EAAAA,EAAAA,KAAaC,GAAiBA,EAAMC,UACrD,OACEhC,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,UACEF,EAAAA,EAAAA,MAAA,OAAKU,UAAU,4BAA2BR,SAAA,EACxCC,EAAAA,EAAAA,KAAA,OAAKO,UAAU,0BAAyBR,UACtCC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CAACC,KAAc,QAATd,EAAAL,EAAKoB,YAAI,IAAAf,OAAA,EAATA,EAAWgB,UAAmB,QAAbf,EAAIN,EAAKoB,YAAI,IAAAd,OAAA,EAATA,EAAWgB,UAAUC,IAAI,QAE7DnC,EAAAA,EAAAA,KAAA,OAAKO,UAAU,2CAA0CR,UACvDC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,8BAA6BR,SACjC,QADiCoB,EAC1CP,EAAKoB,YAAI,IAAAb,OAAA,EAATA,EAAWe,mBAKpBlC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,eAAcR,SAAEa,EAAKwB,aAEvCpC,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAACqC,EAAAA,GAAO,CAACC,MAAuB,IAAhB1B,EAAK2B,OAA6BC,MAAM,QAE1DxC,EAAAA,EAAAA,KAAA,MAAAD,UACEF,EAAAA,EAAAA,MAAA,OAAKU,UAAU,4BAA2BR,SAAA,EACxCC,EAAAA,EAAAA,KAAC8B,EAAAA,EAAM,CAACvB,UAAU,OAAOwB,KAAsB,QAAjBX,EAAAR,EAAK6B,oBAAY,IAAArB,OAAA,EAAjBA,EAAmBsB,aAA8B,QAArBrB,EAAIT,EAAK6B,oBAAY,IAAApB,OAAA,EAAjBA,EAAmBsB,SACjF3C,EAAAA,EAAAA,KAAA,QAAAD,SAAwB,QAAxBuB,EAAOV,EAAK6B,oBAAY,IAAAnB,OAAA,EAAjBA,EAAmBqB,aAG9B3C,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,eAAcR,SAC3Ba,EAAKgC,aAAanC,KAAIC,GAAKA,EAAEmC,eAAcC,KAAK,WAGrD9C,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,sBAAqBR,SAAU,QAAVwB,EAAEX,EAAKmC,WAAG,IAAAxB,OAAA,EAARA,EAAUoB,UAEnD3C,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,2BAA0BR,SACvCa,EAAKoC,mBAGVhD,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,QAAMO,UAAU,2BAA0BR,SACvCa,EAAKqC,oBAGVjD,EAAAA,EAAAA,KAAA,MAAAD,UACEF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,IAAEmD,IAAOtC,EAAKuC,YAAYC,OAAO,oBAEzCpD,EAAAA,EAAAA,KAAA,MAAAD,UACEF,EAAAA,EAAAA,MAAA,QAAAE,SAAA,CAAM,IAAEmD,IAAOtC,EAAKyC,YAAYD,OAAO,oBAEzCpD,EAAAA,EAAAA,KAAA,MAAAD,UACEF,EAAAA,EAAAA,MAAA,OAAKU,UAAU,SAAQR,SAAA,EACrBC,EAAAA,EAAAA,KAAA,UACEsD,QAASA,IAAM9B,EAAS,oBAAoBZ,EAAKC,MACjDN,UAAU,+EAA8ER,UAExFC,EAAAA,EAAAA,KAAA,KAAGO,UAAU,qBAGbK,EAAK2C,WAAgB,OAAJ7B,QAAI,IAAJA,OAAI,EAAJA,EAAMb,MACvBb,EAAAA,EAAAA,KAAA,UACEsD,QAASA,IAAM9B,EAAS,oBAAoBZ,EAAKC,MACjDN,UAAU,+EAA8ER,UAExFC,EAAAA,EAAAA,KAAA,KAAGO,UAAU,8BAGjBP,EAAAA,EAAAA,KAAA,UACEsD,QAASA,IAAM9B,EAAS,oBAAoBZ,EAAKC,MACjDN,UAAU,+EAA8ER,UAExFC,EAAAA,EAAAA,KAACwD,EAAAA,GAAK,CAACC,KAAK,0CAA0ClD,UAAU,wBAInE,C,2DCvIT,QAdA,SAAmBmD,GACf,MAAM,MAAExD,EAAK,QAAEC,GAAYuD,EAC3B,OACI1D,EAAAA,EAAAA,KAAA,OAAKO,UAAU,UAAUM,GAAG,aAAYd,UACpCF,EAAAA,EAAAA,MAAA,OAAKgB,GAAG,uBAAuBN,UAAU,oCAAmCR,SAAA,EACxEC,EAAAA,EAAAA,KAAA,MAAIO,UAAU,0DAAyDR,SAClEG,IAEJC,MAIjB,C","sources":["app/pages/community/index.tsx","components/TitlePage/index.tsx"],"sourcesContent":["import { Avatar } from \"@mui/material\";\nimport { communityApi } from \"app/api\";\nimport { Post } from \"app/interface\";\nimport { QR_KEY } from \"common\";\nimport TitlePage from \"components/TitlePage\";\nimport { FC } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./style.scss\"\nimport { PageCircularProgress, XSwitch } from \"components\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { IRoot } from \"app/redux/interface\";\nimport { KTSVG } from \"_metronic/helpers\";\n\nfunction Community() {\n  const { data, isLoading } = useQuery({\n    queryKey: [QR_KEY.COMMUNITY],\n    queryFn: () => communityApi.getAll({\n      'limit': 15,\n      'append': 'media_url',\n      'sort': '-created_at'\n    })\n  })\n  return (\n    <>\n      <TitlePage\n        title=\"Cộng đồng và kiểm duyệt\"\n        element={\n          <Link\n            to={{ pathname: \"/pages/community-form\" }}\n            className=\"btn btn-sm btn-primary\"\n          >\n            Tạo mới bài viết\n          </Link>}\n      />\n      <div className=\"card\">\n        <div className='card-header border-0 pt-5'>\n          <h3 className='card-title align-items-start flex-column'>\n            <span className='card-label fw-bold fs-3 mb-1'>Bài viết</span>\n            <span className='text-muted mt-1 fw-semobold fs-7'>{data?.total || 0} bài viết</span>\n          </h3>\n        </div>\n        <div className='card-body py-3'>\n          <div className='table-responsive'>\n            <table className='table align-middle gs-0 gy-4'>\n              <thead>\n                <tr className='fw-bold text-muted bg-light'>\n                  <th className='ps-4 min-w-200px rounded-start'>Tác giả</th>\n                  <th className='min-w-300px'>Nội dung</th>\n                  <th className='min-w-80px'>Trạng thái</th>\n                  <th className='min-w-150px'>Gắn doanh nghiệp</th>\n                  <th className='min-w-150px'>Gắn dịch vụ</th>\n                  <th className='min-w-125px'>Tag</th>\n                  <th className='min-w-100px'>Bình luận</th>\n                  <th className='min-w-100px'>Yêu thích</th>\n                  <th className='min-w-100px'>Cập nhật</th>\n                  <th className='min-w-100px'>Ngày đăng</th>\n                  <th className='min-w-100px'></th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  data?.data?.map(i => (\n                    <PostItem key={i.id} post={i} />\n                  ))\n                }\n              </tbody>\n            </table>\n            <PageCircularProgress loading={isLoading} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Community;\n\nconst PostItem: FC<{ post: Post }> = ({ post }) => {\n  const navigate = useNavigate()\n  const { USER } = useSelector((state: IRoot) => state.ACCOUNT)\n  return (\n    <tr>\n      <td>\n        <div className='d-flex align-items-center'>\n          <div className='symbol symbol-50px me-5'>\n            <Avatar src={post.user?.avatar || post.user?.fullname} alt=\"\" />\n          </div>\n          <div className='d-flex justify-content-start flex-column'>\n            <span className='text-dark fw-bold mb-1 fs-6'>\n              {post.user?.fullname}\n            </span>\n          </div>\n        </div>\n      </td>\n      <td>\n        <span className=\"post-content\">{post.content}</span>\n      </td>\n      <td>\n        <XSwitch value={post.status === 1 ? true : false} label=\"\" />\n      </td>\n      <td>\n        <div className=\"d-flex align-items-center\">\n          <Avatar className=\"me-1\" src={post.organization?.image_url || post.organization?.name} />\n          <span>{post.organization?.name}</span>\n        </div>\n      </td>\n      <td>\n        <span className='d-block fs-7'>\n          {post.list_service.map(i => i.service_name).join(', ')}\n        </span>\n      </td>\n      <td>\n        <span className=\"badge badge-success\">{post.tag?.name}</span>\n      </td>\n      <td>\n        <span className='text-center d-block fs-6'>\n          {post.comment_count}\n        </span>\n      </td>\n      <td>\n        <span className='text-center d-block fs-6'>\n          {post.favorite_count}\n        </span>\n      </td>\n      <td>\n        <span> {moment(post.updated_at).format('DD/MM/YYYY')}</span>\n      </td>\n      <td>\n        <span> {moment(post.created_at).format('DD/MM/YYYY')}</span>\n      </td>\n      <td>\n        <div className=\"d-flex\">\n          <button\n            onClick={() => navigate(`/pages/community/${post.id}`)}\n            className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4 btn-co'\n          >\n            <i className=\"bi bi-eye-fill\"></i>\n          </button>\n          {\n            post.user_id === USER?.id &&\n            <button\n              onClick={() => navigate(`/pages/community/${post.id}`)}\n              className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4 btn-co'\n            >\n              <i className='bi bi-pencil-fill fs-6'></i>\n            </button>\n          }\n          <button\n            onClick={() => navigate(`/pages/community/${post.id}`)}\n            className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4 btn-co'\n          >\n            <KTSVG path='/media/icons/duotune/general/gen027.svg' className='svg-icon-3' />\n          </button>\n        </div>\n      </td>\n    </tr>\n  )\n}","import React from 'react';\nimport './style.scss'\n\ninterface IProps {\n    title: string\n    element?: JSX.Element\n}\n\nfunction TitlePage(props: IProps) {\n    const { title, element } = props;\n    return (\n        <div className='toolbar' id='kt_toolbar'>\n            <div id=\"kt_toolbar_container\" className='container-fluid d-flex flex-stack'>\n                <h1 className='d-flex align-items-center text-dark fw-bolder my-1 fs-3'>\n                    {title}\n                </h1>\n                {element}\n            </div>\n        </div>\n    );\n}\n\nexport default TitlePage;"],"names":["_data$data","data","isLoading","useQuery","queryKey","QR_KEY","COMMUNITY","queryFn","communityApi","getAll","_jsxs","_Fragment","children","_jsx","TitlePage","title","element","Link","to","pathname","className","total","map","i","PostItem","post","id","PageCircularProgress","loading","_ref","_post$user","_post$user2","_post$user3","_post$organization","_post$organization2","_post$organization3","_post$tag","navigate","useNavigate","USER","useSelector","state","ACCOUNT","Avatar","src","user","avatar","fullname","alt","content","XSwitch","value","status","label","organization","image_url","name","list_service","service_name","join","tag","comment_count","favorite_count","moment","updated_at","format","created_at","onClick","user_id","KTSVG","path","props"],"sourceRoot":""}