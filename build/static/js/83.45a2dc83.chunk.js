"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[83],{31083:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var n=a(65043),t=(a(86636),a(86971)),l=a(51318),r=a(33895),c=a(12172),i=a(82907),d=a(6171),m=a(94951),o=a(93511),x=a(85450),h=a(42807),j=a(86178),b=a.n(j),u=a(78977),N=a(81637),g=a(95434),f=a(70579);const p=function(e){const s=(0,t.Zp)(),[a,l]=(0,n.useState)([]);return(0,i.useQuery)({queryKey:[d.Eo.BANNER],queryFn:()=>m.A.banners(),onSuccess(e){l(e.data)}}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.A,{element:(0,f.jsx)(u.A,{onClick:()=>{var e;return s("/pages/banners-form",{state:null===(e=a[0])||void 0===e?void 0:e.priority})},variant:"contained",size:"large",children:"T\u1ea1o m\u1edbi banner"}),title:"Danh s\xe1ch banners"}),(0,f.jsx)("div",{className:"row g-5 gx-xxl-8 table-banner",children:(0,f.jsxs)("div",{className:"card mb-5 mb-xl-8",children:[(0,f.jsx)("div",{className:"card-header border-0 pt-5",children:(0,f.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,f.jsx)("span",{className:"card-label fw-bold fs-3 mb-1",children:"Banners Campaigns"}),(0,f.jsx)("span",{className:"text-muted mt-1 fw-semobold fs-7",children:a.length})]})}),(0,f.jsx)("div",{className:"card-body py-3",children:(0,f.jsxs)("div",{className:"table-responsive",children:[(0,f.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"fw-bold text-muted",children:[(0,f.jsx)("th",{className:"w-25px",children:(0,f.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid"})}),(0,f.jsx)("th",{className:"min-w-150px",children:"Banner"}),(0,f.jsx)("th",{className:"min-w-140px",children:"Lo\u1ea1i"}),(0,f.jsx)("th",{className:"min-w-140px",children:"Ng\xe0y h\u1ebft h\u1ea1n"}),(0,f.jsx)("th",{className:"min-w-140px",children:"N\u1ec1n t\u1ea3ng"}),(0,f.jsx)("th",{className:"min-w-100px text-end",children:"Actions"})]})}),(0,f.jsx)(w,{onSortEnd:(e,s)=>{l((0,c.p)(a,e,s))},banners:a})]}),(0,f.jsx)(g.kJ,{loading:0===a.length})]})})]})})]})},v=(0,r.Zj)((e=>{let{children:s,className:a}=e;return(0,f.jsx)("tr",{children:s})})),y=(0,r.q6)((e=>{let{children:s,className:a}=e;return(0,f.jsx)("tbody",{children:s})})),k=(0,r.D)((e=>{let{children:s,className:a}=e;return(0,f.jsx)("div",{className:a||"",children:s})})),w=e=>{let{banners:s,onSortEnd:a}=e;const n=(0,i.useQueryClient)(),{mutate:t,isLoading:r}=(0,i.useMutation)({mutationFn:e=>m.A.deleteBanner(e),onSuccess:()=>{n.invalidateQueries({queryKey:[d.Eo.BANNER]})},onError:()=>{}});return(0,f.jsx)(y,{lockAxis:"y",lockToContainerEdges:!0,useDragHandle:!0,onSortEnd:e=>{let{oldIndex:s,newIndex:n}=e;a(s,n)},children:s.map(((e,s)=>(0,f.jsxs)(v,{index:s,className:"item",children:[(0,f.jsx)("td",{children:(0,f.jsx)(k,{className:"itemTrigger",children:(0,f.jsx)("img",{src:(0,x.oK)("/media/icons/duotune/abstract/abs015.svg"),alt:""})})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex align-items-center",children:[(0,f.jsx)("div",{className:"symbol symbol-45px me-5",children:(0,f.jsx)("img",{className:"banner-item__img",src:e.imageURL,alt:""})}),(0,f.jsxs)("div",{className:"d-flex justify-content-start flex-column",children:[(0,f.jsx)("span",{className:"text-dark fw-bold text-hover-primary fs-6",children:e.name}),(0,f.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:(0,h.Yq)(e.created_at)})]})]})}),(0,f.jsx)("td",{children:(0,f.jsx)(h.ZK,{TYPE:e.type})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"text-dark fw-bold text-hover-primary d-block fs-6",children:e.expires_at?b()(e.expires_at).format("DD/MM/YYYY"):"Kh\xf4ng th\u1eddi h\u1ea1n"})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"text-dark fw-bold text-hover-primary d-block fs-6",children:"T\u1ea5t c\u1ea3"})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(0,f.jsx)(l.N_,{to:{pathname:`/pages/banners-form/${e.id}`},className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:(0,f.jsx)(x.aO,{path:"/media/icons/duotune/art/art005.svg",className:"svg-icon-3"})}),(0,f.jsx)("button",{onClick:()=>t(e.id),disabled:r,className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",children:r?(0,f.jsx)(N.A,{size:12}):(0,f.jsx)(x.aO,{path:"/media/icons/duotune/general/gen027.svg",className:"svg-icon-3"})})]})})]},`item-${s}`)))})}},93511:(e,s,a)=>{a.d(s,{A:()=>t});a(65043);var n=a(70579);const t=function(e){const{title:s,element:a}=e;return(0,n.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,n.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,n.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:s}),a]})})}},86636:()=>{}}]);
//# sourceMappingURL=83.45a2dc83.chunk.js.map