"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[925],{19925:(e,l,a)=>{a.r(l),a.d(l,{default:()=>x});var i=a(93511),s=a(95434),t=a(63516),n=a(73033),r=a(72812),o=a(86178),c=a.n(o),m=a(73589),d=a(82907),u=a(3717),h=a(86971),p=a(70579);const x=()=>{const e=(0,h.Zp)(),{resultLoad:l,onCloseNoti:a,noti:o}=(0,u.JX)(),{mutate:x,isLoading:g}=(0,d.useMutation)({mutationFn:e=>m.x4.postDiscount(e),onSuccess:a=>{l({message:"T\u1ea1o th\xe0nh c\xf4ng",color:"success"}),setTimeout((()=>e(-1)),2e3)},onError:(e,a,i)=>{l({message:"C\xf3 l\u1ed7i x\u1ea3y ra",color:"error"})}}),v=(0,t.Wx)({initialValues:{title:"",coupon_code:"",description:"",discount_value:"",total:"",valid_from:c()().format("YYYY-MM-DD HH:mm:ss"),valid_util:c()().format("YYYY-MM-DD HH:mm:ss"),limit:""},validationSchema:n.Ik({title:n.Yj().required("Vui l\xf2ng nh\u1eadp t\xean ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\u1ea1i"),coupon_code:n.Yj().required("Vui l\xf2ng nh\u1eadp M\xe3 gi\u1ea3m gi\xe1"),description:n.Yj().required("Vui l\xf2ng nh\u1eadp m\xf4 t\u1ea3 ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\u1ea1i"),discount_value:n.ai().min(1e3,"Gi\xe1 tr\u1ecb gi\u1ea3m l\u1edbn h\u01a1n 1000").required("Vui l\xf2ng nh\u1eadp gi\xe1 tr\u1ecb gi\u1ea3m"),total:n.ai().min(0,"S\u1ed1 l\u01b0\u1ee3ng m\xe3 t\u1ed1i \u0111a 4000 m\xe3").max(4e3,"S\u1ed1 l\u01b0\u1ee3ng m\xe3 t\u1ed1i \u0111a 4000 m\xe3").required("Vui l\xf2ng nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng m\xe3"),limit:n.ai().min(1,"L\u01b0\u1ee3t s\u1eed d\u1ee5ng m\u1ed7i kh\xe1ch l\u1edbn h\u01a1n 1")}),onSubmit:e=>{const{title:l,coupon_code:a,description:i,discount_value:s,total:t,valid_from:n,valid_util:r,limit:o}=e;x({title:l,coupon_code:a,description:i,platform:"BEAUTYX",discount_type:"SUB_TOTAL",discount_unit:"PRICE",is_campaign:1,valid_from:n,valid_util:r,discount_value:s,total:Number(t),minimum_order_value:Number(s),limit:Number(o)})}});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.ce,{severity:o.color,message:o.message,open:o.openAlert,close:a}),(0,p.jsx)(i.A,{title:"T\u1ea1o m\u1edbi voucher"}),(0,p.jsx)("div",{className:"post d-flex flex-column-fluid",id:"kt_post",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("form",{autoComplete:"off",className:"form",onSubmit:v.handleSubmit,children:[(0,p.jsx)("div",{className:"flex-row-sp align-items-center input-wrap",children:(0,p.jsx)("div",{className:"wrap-item",children:(0,p.jsx)(s.Xg,{value:!0,label:"Is campaign (\xc1p d\u1ee5ng m\xe3 gi\u1ea3m gi\xe1 BeautyX)"})})}),(0,p.jsxs)("div",{className:"flex-row-sp input-wrap",children:[(0,p.jsxs)("div",{className:"wrap-item",children:[(0,p.jsx)("label",{className:"required form-label",children:"M\xe3 gi\u1ea3m gi\xe1"}),(0,p.jsx)("input",{onChange:v.handleChange,value:v.values.coupon_code,name:"coupon_code",type:"text",className:"form-control form-control-solid",placeholder:`BTX${c()().format("DDMM")}`}),v.errors.coupon_code&&v.touched.coupon_code&&(0,p.jsx)("span",{className:"text-danger",children:v.errors.coupon_code})]}),(0,p.jsxs)("div",{className:"wrap-item",children:[(0,p.jsx)("label",{className:"required form-label",children:"T\xean"}),(0,p.jsx)("input",{onChange:v.handleChange,value:v.values.title,name:"title",type:"text",className:"form-control form-control-solid",placeholder:"Ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\u1ea1i"}),v.errors.title&&v.touched.title&&(0,p.jsx)("span",{className:"text-danger",children:v.errors.title})]})]}),(0,p.jsxs)("div",{className:"input-wrap",children:[(0,p.jsx)("label",{className:"required form-label",children:"M\xf4 t\u1ea3"}),(0,p.jsx)("input",{onChange:v.handleChange,value:v.values.description,name:"description",type:"text",className:"form-control form-control-solid",placeholder:"M\xf4 t\u1ea3 ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\u1ea1i"}),v.errors.description&&v.touched.description&&(0,p.jsx)("span",{className:"text-danger",children:v.errors.description})]}),(0,p.jsx)("div",{className:"flex-row-sp input-wrap",children:(0,p.jsxs)("div",{className:"wrap-item wrap-item-col-4",children:[(0,p.jsx)("label",{className:"required form-label",children:"Gi\xe1 tr\u1ecb gi\u1ea3m gi\xe1"}),(0,p.jsx)("input",{onChange:v.handleChange,value:v.values.discount_value,name:"discount_value",type:"number",className:"form-control form-control-solid",placeholder:"Gi\xe1 tr\u1ecb gi\u1ea3m gi\xe1"}),v.errors.discount_value&&v.touched.discount_value&&(0,p.jsx)("span",{className:"text-danger",children:v.errors.discount_value})]})}),(0,p.jsxs)("div",{className:"flex-row-sp input-wrap",children:[(0,p.jsxs)("div",{className:"wrap-item wrap-item-col-4",children:[(0,p.jsx)("label",{className:"required form-label",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,p.jsx)("input",{value:v.values.total,onChange:v.handleChange,name:"total",type:"number",className:"form-control form-control-solid",placeholder:""}),v.errors.total&&v.touched.total&&(0,p.jsx)("span",{className:"text-danger",children:v.errors.total})]}),(0,p.jsxs)("div",{className:"wrap-item wrap-item-col-4",children:[(0,p.jsx)("label",{className:"required form-label",children:"L\u01b0\u1ee3t s\u1eed d\u1ee5ng m\u1ed7i kh\xe1ch"}),(0,p.jsx)("input",{value:v.values.limit,onChange:v.handleChange,name:"limit",type:"number",className:"form-control form-control-solid",placeholder:""}),v.errors.limit&&v.touched.limit&&(0,p.jsx)("span",{className:"text-danger",children:v.errors.limit})]}),(0,p.jsx)("div",{className:"wrap-item wrap-item-col-4",children:(0,p.jsx)(s.oG,{minDate:new Date,startDate:new Date(v.values.valid_from),endDate:new Date(v.values.valid_util),onChange:e=>{v.setFieldValue("valid_from",c()(e.selection.startDate).format("YYYY-MM-DD HH:mm:ss")),v.setFieldValue("valid_util",c()(e.selection.endDate).format("YYYY-MM-DD HH:mm:ss"))}})})]}),(0,p.jsx)("div",{className:"input-form__bot",children:(0,p.jsx)(r.A,{type:"submit",variant:"contained",size:"large",color:"success",loading:g,children:"L\u01b0u thay \u0111\u1ed5i"})})]})})})]})}},93511:(e,l,a)=>{a.d(l,{A:()=>s});a(65043);var i=a(70579);const s=function(e){const{title:l,element:a}=e;return(0,i.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,i.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,i.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:l}),a]})})}}}]);
//# sourceMappingURL=925.56095deb.chunk.js.map