"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[656],{48656:function(e,n,s){s.r(n);var a=s(70885),t=s(72791),r=(s(79373),s(16871)),i=s(43504),c=s(28488),l=s(73074),d=s(91933),o=s(52902),m=s(75937),x=s(11838),h=s(72930),u=s(35036),f=s(72426),b=s.n(f),j=s(36151),N=s(13239),g=s(66305),v=s(80184);n.default=function(e){var n=(0,r.s0)(),s=(0,t.useState)([]),i=(0,a.Z)(s,2),c=i[0],h=i[1];return(0,d.useQuery)({queryKey:[o.xG.BANNER],queryFn:function(){return m.Z.banners()},onSuccess:function(e){h(e.data)}}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.Z,{element:(0,v.jsx)(j.Z,{onClick:function(){var e;return n("/pages/banners-form",{state:null===(e=c[0])||void 0===e?void 0:e.priority})},variant:"contained",size:"large",children:"T\u1ea1o m\u1edbi banner"}),title:"Danh s\xe1ch banners"}),(0,v.jsx)("div",{className:"row g-5 gx-xxl-8 table-banner",children:(0,v.jsxs)("div",{className:"card mb-5 mb-xl-8",children:[(0,v.jsx)("div",{className:"card-header border-0 pt-5",children:(0,v.jsxs)("h3",{className:"card-title align-items-start flex-column",children:[(0,v.jsx)("span",{className:"card-label fw-bold fs-3 mb-1",children:"Banners Campaigns"}),(0,v.jsx)("span",{className:"text-muted mt-1 fw-semobold fs-7",children:c.length})]})}),(0,v.jsx)("div",{className:"card-body py-3",children:(0,v.jsxs)("div",{className:"table-responsive",children:[(0,v.jsxs)("table",{className:"table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{className:"fw-bold text-muted",children:[(0,v.jsx)("th",{className:"w-25px",children:(0,v.jsx)("div",{className:"form-check form-check-sm form-check-custom form-check-solid"})}),(0,v.jsx)("th",{className:"min-w-150px",children:"Banner"}),(0,v.jsx)("th",{className:"min-w-140px",children:"Lo\u1ea1i"}),(0,v.jsx)("th",{className:"min-w-140px",children:"Ng\xe0y h\u1ebft h\u1ea1n"}),(0,v.jsx)("th",{className:"min-w-140px",children:"N\u1ec1n t\u1ea3ng"}),(0,v.jsx)("th",{className:"min-w-100px text-end",children:"Actions"})]})}),(0,v.jsx)(w,{onSortEnd:function(e,n){h((0,l.q)(c,e,n))},banners:c})]}),(0,v.jsx)(g.Am,{loading:0===c.length})]})})]})})]})};var p=(0,c.W8)((function(e){var n=e.children;e.className;return(0,v.jsx)("tr",{children:n})})),y=(0,c.JN)((function(e){var n=e.children;e.className;return(0,v.jsx)("tbody",{children:n})})),k=(0,c.W6)((function(e){var n=e.children,s=e.className;return(0,v.jsx)("div",{className:s||"",children:n})})),w=function(e){var n=e.banners,s=e.onSortEnd,a=(0,d.useQueryClient)(),t=(0,d.useMutation)({mutationFn:function(e){return m.Z.deleteBanner(e)},onSuccess:function(){a.invalidateQueries({queryKey:[o.xG.BANNER]})},onError:function(){}}),r=t.mutate,c=t.isLoading;return(0,v.jsx)(y,{lockAxis:"y",lockToContainerEdges:!0,useDragHandle:!0,onSortEnd:function(e){var n=e.oldIndex,a=e.newIndex;s(n,a)},children:n.map((function(e,n){return(0,v.jsxs)(p,{index:n,className:"item",children:[(0,v.jsx)("td",{children:(0,v.jsx)(k,{className:"itemTrigger",children:(0,v.jsx)("img",{src:(0,h.BY)("/media/icons/duotune/abstract/abs015.svg"),alt:""})})}),(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsx)("div",{className:"symbol symbol-45px me-5",children:(0,v.jsx)("img",{className:"banner-item__img",src:e.imageURL,alt:""})}),(0,v.jsxs)("div",{className:"d-flex justify-content-start flex-column",children:[(0,v.jsx)("span",{className:"text-dark fw-bold text-hover-primary fs-6",children:e.name}),(0,v.jsx)("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:(0,u.p6)(e.created_at)})]})]})}),(0,v.jsx)("td",{children:(0,v.jsx)(u.ap,{TYPE:e.type})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"text-dark fw-bold text-hover-primary d-block fs-6",children:e.expires_at?b()(e.expires_at).format("DD/MM/YYYY"):"Kh\xf4ng th\u1eddi h\u1ea1n"})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"text-dark fw-bold text-hover-primary d-block fs-6",children:"T\u1ea5t c\u1ea3"})}),(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"d-flex justify-content-end flex-shrink-0",children:[(0,v.jsx)(i.rU,{to:{pathname:"/pages/banners-form/".concat(e.id)},className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:(0,v.jsx)(h.D8,{path:"/media/icons/duotune/art/art005.svg",className:"svg-icon-3"})}),(0,v.jsx)("button",{onClick:function(){return r(e.id)},disabled:c,className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",children:c?(0,v.jsx)(N.Z,{size:12}):(0,v.jsx)(h.D8,{path:"/media/icons/duotune/general/gen027.svg",className:"svg-icon-3"})})]})})]},"item-".concat(n))}))})}},11838:function(e,n,s){s.d(n,{Z:function(){return t}});s(72791);var a=s(80184);var t=function(e){var n=e.title,s=e.element;return(0,a.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,a.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,a.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:n}),s]})})}},79373:function(){}}]);
//# sourceMappingURL=656.83d3ccbf.chunk.js.map