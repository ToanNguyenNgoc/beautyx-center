{"version":3,"file":"static/js/556.cdd46c30.chunk.js","mappings":"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","sources":["app/pages/community/index.tsx","components/TitlePage/index.tsx"],"sourcesContent":["import { Avatar } from \"@mui/material\";\nimport { communityApi } from \"app/api\";\nimport { Post } from \"app/interface\";\nimport { QR_KEY } from \"common\";\nimport TitlePage from \"components/TitlePage\";\nimport { FC } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./style.scss\"\nimport { PageCircularProgress, XSwitch } from \"components\";\nimport moment from \"moment\";\nimport { useSelector } from \"react-redux\";\nimport { IRoot } from \"app/redux/interface\";\nimport { KTSVG } from \"_metronic/helpers\";\n\nfunction Community() {\n  const { data, isLoading } = useQuery({\n    queryKey: [QR_KEY.COMMUNITY],\n    queryFn: () => communityApi.getAll({\n      'limit': 15,\n      'append': 'media_url',\n      'sort': '-created_at'\n    })\n  })\n  return (\n    <>\n      <TitlePage\n        title=\"Cộng đồng và kiểm duyệt\"\n        element={\n          <Link\n            to={{ pathname: \"/pages/community-form\" }}\n            className=\"btn btn-sm btn-primary\"\n          >\n            Tạo mới bài viết\n          </Link>}\n      />\n      <div className=\"card\">\n        <div className='card-header border-0 pt-5'>\n          <h3 className='card-title align-items-start flex-column'>\n            <span className='card-label fw-bold fs-3 mb-1'>Bài viết</span>\n            <span className='text-muted mt-1 fw-semobold fs-7'>{data?.total || 0} bài viết</span>\n          </h3>\n        </div>\n        <div className='card-body py-3'>\n          <div className='table-responsive'>\n            <table className='table align-middle gs-0 gy-4'>\n              <thead>\n                <tr className='fw-bold text-muted bg-light'>\n                  <th className='ps-4 min-w-200px rounded-start'>Tác giả</th>\n                  <th className='min-w-300px'>Nội dung</th>\n                  <th className='min-w-80px'>Trạng thái</th>\n                  <th className='min-w-150px'>Gắn doanh nghiệp</th>\n                  <th className='min-w-150px'>Gắn dịch vụ</th>\n                  <th className='min-w-125px'>Tag</th>\n                  <th className='min-w-100px'>Bình luận</th>\n                  <th className='min-w-100px'>Yêu thích</th>\n                  <th className='min-w-100px'>Cập nhật</th>\n                  <th className='min-w-100px'>Ngày đăng</th>\n                  <th className='min-w-100px'></th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  data?.data?.map(i => (\n                    <PostItem key={i.id} post={i} />\n                  ))\n                }\n              </tbody>\n            </table>\n            <PageCircularProgress loading={isLoading} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Community;\n\nconst PostItem: FC<{ post: Post }> = ({ post }) => {\n  const navigate = useNavigate()\n  const { USER } = useSelector((state: IRoot) => state.ACCOUNT)\n  return (\n    <tr>\n      <td>\n        <div className='d-flex align-items-center'>\n          <div className='symbol symbol-50px me-5'>\n            <Avatar src={post.user?.avatar || post.user?.fullname} alt=\"\" />\n          </div>\n          <div className='d-flex justify-content-start flex-column'>\n            <span className='text-dark fw-bold mb-1 fs-6'>\n              {post.user?.fullname}\n            </span>\n          </div>\n        </div>\n      </td>\n      <td>\n        <span className=\"post-content\">{post.content}</span>\n      </td>\n      <td>\n        <XSwitch value={post.status === 1 ? true : false} label=\"\" />\n      </td>\n      <td>\n        <div className=\"d-flex align-items-center\">\n          <Avatar className=\"me-1\" src={post.organization?.image_url || post.organization?.name} />\n          <span>{post.organization?.name}</span>\n        </div>\n      </td>\n      <td>\n        <span className='d-block fs-7'>\n          {post.list_service.map(i => i.service_name).join(', ')}\n        </span>\n      </td>\n      <td>\n        <span className=\"badge badge-success\">{post.tag?.name}</span>\n      </td>\n      <td>\n        <span className='text-center d-block fs-6'>\n          {post.comment_count}\n        </span>\n      </td>\n      <td>\n        <span className='text-center d-block fs-6'>\n          {post.favorite_count}\n        </span>\n      </td>\n      <td>\n        <span> {moment(post.updated_at).format('DD/MM/YYYY')}</span>\n      </td>\n      <td>\n        <span> {moment(post.created_at).format('DD/MM/YYYY')}</span>\n      </td>\n      <td>\n        <div className=\"d-flex\">\n          <button\n            onClick={() => navigate(`/pages/community/${post.id}`)}\n            className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4 btn-co'\n          >\n            <i className=\"bi bi-eye-fill\"></i>\n          </button>\n          {\n            post.user_id === USER?.id &&\n            <button\n              onClick={() => navigate(`/pages/community/${post.id}`)}\n              className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4 btn-co'\n            >\n              <i className='bi bi-pencil-fill fs-6'></i>\n            </button>\n          }\n          <button\n            onClick={() => navigate(`/pages/community/${post.id}`)}\n            className='btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4 btn-co'\n          >\n            <KTSVG path='/media/icons/duotune/general/gen027.svg' className='svg-icon-3' />\n          </button>\n        </div>\n      </td>\n    </tr>\n  )\n}","import React from 'react';\nimport './style.scss'\n\ninterface IProps {\n    title: string\n    element?: JSX.Element\n}\n\nfunction TitlePage(props: IProps) {\n    const { title, element } = props;\n    return (\n        <div className='toolbar' id='kt_toolbar'>\n            <div id=\"kt_toolbar_container\" className='container-fluid d-flex flex-stack'>\n                <h1 className='d-flex align-items-center text-dark fw-bolder my-1 fs-3'>\n                    {title}\n                </h1>\n                {element}\n            </div>\n        </div>\n    );\n}\n\nexport default TitlePage;"],"names":["useQuery","queryKey","QR_KEY","queryFn","communityApi","data","isLoading","title","element","to","pathname","className","total","map","i","PostItem","post","id","loading","navigate","useNavigate","USER","useSelector","state","ACCOUNT","src","user","avatar","fullname","alt","content","value","status","label","organization","image_url","name","list_service","service_name","join","tag","comment_count","favorite_count","moment","updated_at","format","created_at","onClick","user_id","path","props"],"sourceRoot":""}