"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[357],{48357:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var s=t(77234),n=t(6171),i=t(95434),l=t(63516),r=t(63141),o=t(65043),d=t(82907),c=t(86971),u=t(73033),m=t(70579);function h(e){const{isForm:a,tip:t,tipId:h}=e,[p,x]=(0,o.useState)(!(null===t||void 0===t||!t.status)),v=(0,c.Zp)(),{mutate:b,isLoading:g}=(0,d.useMutation)({mutationFn:e=>s.A.updateTip(h,e),onSuccess:()=>{r.q.invalidateQueries([n.Eo.TIP_PAGE]),v(-1)},onError:e=>{console.log(e)}});console.log(g);const{mutate:j,isLoading:y}=(0,d.useMutation)({mutationFn:e=>s.A.postTip(e),onSuccess:()=>{r.q.invalidateQueries([n.Eo.TIP_PAGE]),v(-1)},onError:e=>{console.log(e)}}),f=(0,l.Wx)({initialValues:{name:"EDIT"===a?null===t||void 0===t?void 0:t.name:"",type:"EDIT"===a?null===t||void 0===t?void 0:t.type:"",priority:"EDIT"===a?null===t||void 0===t?void 0:t.priority:0,status:"EDIT"===a?p:1},validationSchema:u.Ik({name:u.Yj().trim().required("Vui l\xf2ng nh\u1eadp n\u1ed9i dung"),type:u.Yj().trim().required("Vui l\xf2ng nh\u1eadp lo\u1ea1i"),priority:u.ai().required("Vui l\xf2ng nh\u1eadp \u0111\u1ed9 \u01b0u ti\xean").min(0,"\u0110\u1ed9 \u01b0u ti\xean th\u1ea5p nh\u1ea5t l\xe0 0")}),onSubmit:e=>{const t={...e,status:e.status?1:0};"ADD"===a?j(t):b(t)}});return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("form",{className:"discount-form mb-10 container",onSubmit:f.handleSubmit,autoComplete:"off",children:(0,m.jsxs)("div",{className:"col-12",children:[(0,m.jsxs)("div",{className:"wrap-item col-12",children:[(0,m.jsx)("label",{className:"form-label",children:"N\u1ed9i dung"}),(0,m.jsx)("textarea",{onChange:f.handleChange,value:f.values.name,className:"form-control",placeholder:"Aa",rows:4,cols:50,name:"name"}),f.errors.name&&f.touched.name&&(0,m.jsx)("span",{className:"text-danger d-block mt-2",children:f.errors.name})]}),(0,m.jsxs)("div",{className:"row mt-10",children:[(0,m.jsxs)("div",{className:"wrap-item col-4",children:[(0,m.jsx)("label",{className:"form-label",children:"Lo\u1ea1i"}),(0,m.jsx)("input",{disabled:"EDIT"===a,onChange:f.handleChange,value:f.values.type,type:"text",className:"form-control",placeholder:"Aa",name:"type"}),f.errors.type&&f.touched.type&&(0,m.jsx)("span",{className:"text-danger d-block mt-2",children:f.errors.type})]}),(0,m.jsxs)("div",{className:"wrap-item col-4",children:[(0,m.jsx)("label",{className:"form-label",children:"\u0110\u1ed9 \u01b0u ti\xean"}),(0,m.jsx)("input",{onChange:f.handleChange,value:f.values.priority,type:"number",className:"form-control",placeholder:"Aa",name:"priority"}),f.errors.priority&&f.touched.priority&&(0,m.jsx)("span",{className:"text-danger d-block mt-2",children:f.errors.priority})]}),(0,m.jsxs)("div",{className:"wrap-item col-4",children:[(0,m.jsx)("label",{className:"form-label",children:"Tr\u1ea1ng th\xe1i"}),(0,m.jsx)("div",{children:(0,m.jsx)(i.Xg,{value:f.values.status,onChange:e=>x(e.target.checked),label:"K\xedch ho\u1ea1t \u0111\u1ec3 hi\u1ec3n th\u1ecb tip"})})]})]}),(0,m.jsxs)("div",{className:"d-flex flex-end gap-4 mt-10",children:[(0,m.jsx)("button",{onClick:()=>v(-1),type:"button",className:"btn btn-primary",children:"Quay l\u1ea1i"}),(0,m.jsx)("button",{disabled:!(!g&&!y),className:"btn btn-success",children:g||y?"Loading...":"L\u01b0u thay \u0111\u1ed5i"})]})]})})})}var p=t(93511);function x(){const e=(0,c.g)();let a="ADD";e&&e.id&&(a="EDIT");const{data:t}=(0,d.useQuery)({queryKey:[n.Eo.TIP_PAGE,e.id],queryFn:()=>s.A.getById(parseInt(e.id))}),i=null===t||void 0===t?void 0:t.context;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.A,{title:null!==e&&void 0!==e&&e.id?"Ch\u1ec9nh s\u1eeda th\xf4ng tin Tip":"T\u1ea1o m\u1edbi Tip"}),("ADD"===a||i)&&(0,m.jsx)(h,{tipId:parseInt(e.id),tip:i,isForm:a})]})}},93511:(e,a,t)=>{t.d(a,{A:()=>n});t(65043);var s=t(70579);const n=function(e){const{title:a,element:t}=e;return(0,s.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,s.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,s.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:a}),t]})})}}}]);
//# sourceMappingURL=357.72c6dd1b.chunk.js.map