{"version":3,"file":"static/js/276.6c85c8d9.chunk.js","mappings":"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","sources":["app/pages/discounts/module/discount-detail/index.tsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { Link, useLocation, useNavigate, useParams } from 'react-router-dom';\nimport { IDiscountPar } from 'app/interface/discounts';\nimport TitlePage from 'components/TitlePage';\nimport FlatFormOrder from 'components/PlatForm';\nimport { useQuery } from 'react-query';\nimport { QR_KEY } from 'common';\nimport { discountsApi } from 'app/api';\nimport moment from 'moment';\nimport { PageCircularProgress, XPagination } from 'components';\nimport { ExportCode } from 'app/pages/discounts/module/discount-form';\nimport queryString from 'query-string'\nimport \"./style.scss\";\n\nfunction DiscountDetail() {\n    // const { METHOD } = useVerifyRoute()\n    const navigate = useNavigate()\n    const params: any = useParams()\n    const location = useLocation()\n    const query: any = queryString.parse(location.search)\n    const state = location.state as IDiscountPar | null\n    const { data } = useQuery({\n        queryKey: [QR_KEY.DISCOUNT, params.id],\n        queryFn: () => discountsApi.getDiscountDetail({ id: params.id }),\n        enabled: !state ? true : false,\n        onError: () => navigate(\"/error/404\")\n    })\n    const discount = state ?? data?.context\n    const { data: dataCode } = useQuery({\n        queryKey: [QR_KEY.DISCOUNT_CODE, params.id, query],\n        queryFn: () => discountsApi.getCodeIsCampaign({\n            uuid: params.id,\n            limit: 50,\n            page: query?.page ?? 1\n        }),\n        enabled: params?.id ? true : false\n    })\n    const onChangePage = (page: number) => {\n        const newQuery = { page: page }\n        navigate({\n            pathname: location.pathname,\n            search: queryString.stringify(newQuery),\n        })\n    }\n\n    return (\n        discount ?\n            <>\n                <TitlePage\n                    title={discount?.title ?? ''}\n                    element={\n                        // METHOD?.includes(\"UPDATE\") ?\n                        <Link\n                            to={{\n                                pathname: `/pages/discounts-form/${discount?.uuid}`\n                            }}\n                            className=\"btn btn-sm btn-success\">Thay đổi thông tin\n                        </Link>\n                        // :\n                        // <></>\n                    }\n                />\n                <div className=\"container\">\n                    <div className=\"detail\">\n                        <div className=\"d-flex justify-content-between align-items-start\">\n                            <p className=\"fw-semobold d-block fs-4\">Danh sách mã giảm giá ({discount.total} mã)</p>\n                            <div>\n                                <div className=\"d-flex align-items-center\">\n                                    <label style={{ marginRight: '8px' }}>Nền tảng</label>\n                                    <FlatFormOrder\n                                        platForm={discount?.platform ?? ''}\n                                    />\n                                </div>\n                                <div className=\"d-flex align-items-center\">\n                                    <label style={{ marginRight: '8px' }}>Áp dụng từ</label>\n                                    {\n                                        (discount?.valid_from && discount?.valid_util) &&\n                                        <div className='d-flex align-items-center'>\n                                            <span className=\"fw-semobold d-block fs-6\">{moment(discount.valid_from).format('DD/MM/YYYY')}</span>\n                                            -\n                                            <span className=\"fw-semobold d-block fs-6\">{moment(discount.valid_util).format('DD/MM/YYYY')}</span>\n                                        </div>\n                                    }\n                                </div>\n                                <div className='d-flex justify-content-end mt-2 mb-2'>\n                                    <ExportCode\n                                        discount={discount}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                        <table className=\"table table-rounded table-row-bordered border gy-7 gs-7\">\n                            <thead>\n                                <tr className=\"fw-bold fs-6 text-gray-800 border-bottom-2 border-gray-200\">\n                                    <th>STT</th>\n                                    <th>Mã giảm giá</th>\n                                    <th>Trạng thái sử dụng</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {\n                                    dataCode?.data?.map((item, index) => (\n                                        <tr key={index} className={item.status === \"1\" ? \"\" : \"table-active\"}>\n                                            <td>{index + 1}</td>\n                                            <td>{item.coupon_code}</td>\n                                            <td>\n                                                {item.status === '1' ? 'Chưa sử dụng' : 'Đã sử dụng'}\n                                            </td>\n                                        </tr>\n                                    ))\n                                }\n                            </tbody>\n                        </table>\n                        <XPagination\n                            totalPage={dataCode?.total ? Math.ceil(dataCode.total / 50) : 1}\n                            defaultPage={query?.page ?? 1}\n                            onChangePage={onChangePage}\n                        />\n                    </div>\n                </div>\n            </>\n            :\n            <PageCircularProgress loading={true} />\n    );\n}\n\nexport default DiscountDetail;"],"names":["_discount$title","_discount$platform","_dataCode$data","_query$page2","navigate","useNavigate","params","useParams","location","useLocation","query","queryString","search","state","data","useQuery","queryKey","QR_KEY","DISCOUNT","id","queryFn","discountsApi","getDiscountDetail","enabled","onError","discount","context","dataCode","DISCOUNT_CODE","_query$page","getCodeIsCampaign","uuid","limit","page","_jsxs","_Fragment","children","_jsx","TitlePage","title","element","Link","to","pathname","className","total","style","marginRight","FlatFormOrder","platForm","platform","valid_from","valid_util","moment","format","ExportCode","map","item","index","status","coupon_code","XPagination","totalPage","Math","ceil","defaultPage","onChangePage","newQuery","PageCircularProgress","loading"],"sourceRoot":""}