"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[693],{51693:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var a=t(61077),i=t(1413),r=t(70885),s=t(52902),l=t(66305),o=t(92506),c=t(79770),d=t(72791),u=t(91933),m=t(16871),h=t(76863),p=t(80184);function x(e){var n=e.isForm,t=e.tip,x=e.tipId,v=(0,d.useState)(!(null===t||void 0===t||!t.status)),f=(0,r.Z)(v,2),b=f[0],g=f[1],j=(0,m.s0)(),y=(0,u.useMutation)({mutationFn:function(e){return a.Z.updateTip(x,e)},onSuccess:function(){c.E.invalidateQueries([s.xG.TIP_PAGE]),j(-1)},onError:function(e){console.log(e)}}),N=y.mutate,T=y.isLoading;console.log(T);var I=(0,u.useMutation)({mutationFn:function(e){return a.Z.postTip(e)},onSuccess:function(){c.E.invalidateQueries([s.xG.TIP_PAGE]),j(-1)},onError:function(e){console.log(e)}}),k=I.mutate,E=I.isLoading,C=(0,o.TA)({initialValues:{name:"EDIT"===n?null===t||void 0===t?void 0:t.name:"",type:"EDIT"===n?null===t||void 0===t?void 0:t.type:"",priority:"EDIT"===n?null===t||void 0===t?void 0:t.priority:0,status:"EDIT"===n?b:1},validationSchema:h.Ry({name:h.Z_().trim().required("Vui l\xf2ng nh\u1eadp n\u1ed9i dung"),type:h.Z_().trim().required("Vui l\xf2ng nh\u1eadp lo\u1ea1i"),priority:h.Rx().required("Vui l\xf2ng nh\u1eadp \u0111\u1ed9 \u01b0u ti\xean").min(0,"\u0110\u1ed9 \u01b0u ti\xean th\u1ea5p nh\u1ea5t l\xe0 0")}),onSubmit:function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{status:e.status?1:0});"ADD"===n?k(t):N(t)}});return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("form",{className:"discount-form mb-10 container",onSubmit:C.handleSubmit,autoComplete:"off",children:(0,p.jsxs)("div",{className:"col-12",children:[(0,p.jsxs)("div",{className:"wrap-item col-12",children:[(0,p.jsx)("label",{className:"form-label",children:"N\u1ed9i dung"}),(0,p.jsx)("textarea",{onChange:C.handleChange,value:C.values.name,className:"form-control",placeholder:"Aa",rows:4,cols:50,name:"name"}),C.errors.name&&C.touched.name&&(0,p.jsx)("span",{className:"text-danger d-block mt-2",children:C.errors.name})]}),(0,p.jsxs)("div",{className:"row mt-10",children:[(0,p.jsxs)("div",{className:"wrap-item col-4",children:[(0,p.jsx)("label",{className:"form-label",children:"Lo\u1ea1i"}),(0,p.jsx)("input",{disabled:"EDIT"===n,onChange:C.handleChange,value:C.values.type,type:"text",className:"form-control",placeholder:"Aa",name:"type"}),C.errors.type&&C.touched.type&&(0,p.jsx)("span",{className:"text-danger d-block mt-2",children:C.errors.type})]}),(0,p.jsxs)("div",{className:"wrap-item col-4",children:[(0,p.jsx)("label",{className:"form-label",children:"\u0110\u1ed9 \u01b0u ti\xean"}),(0,p.jsx)("input",{onChange:C.handleChange,value:C.values.priority,type:"number",className:"form-control",placeholder:"Aa",name:"priority"}),C.errors.priority&&C.touched.priority&&(0,p.jsx)("span",{className:"text-danger d-block mt-2",children:C.errors.priority})]}),(0,p.jsxs)("div",{className:"wrap-item col-4",children:[(0,p.jsx)("label",{className:"form-label",children:"Tr\u1ea1ng th\xe1i"}),(0,p.jsx)("div",{children:(0,p.jsx)(l.lQ,{value:C.values.status,onChange:function(e){return g(e.target.checked)},label:"K\xedch ho\u1ea1t \u0111\u1ec3 hi\u1ec3n th\u1ecb tip"})})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-end gap-4 mt-10",children:[(0,p.jsx)("button",{onClick:function(){return j(-1)},type:"button",className:"btn btn-primary",children:"Quay l\u1ea1i"}),(0,p.jsx)("button",{disabled:!(!T&&!E),className:"btn btn-success",children:T||E?"Loading...":"L\u01b0u thay \u0111\u1ed5i"})]})]})})})}var v=t(11838);function f(){var e=(0,m.UO)(),n="ADD";e&&e.id&&(n="EDIT");var t=(0,u.useQuery)({queryKey:[s.xG.TIP_PAGE,e.id],queryFn:function(){return a.Z.getById(parseInt(e.id))}}).data,i=null===t||void 0===t?void 0:t.context;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{title:null!==e&&void 0!==e&&e.id?"Ch\u1ec9nh s\u1eeda th\xf4ng tin Tip":"T\u1ea1o m\u1edbi Tip"}),("ADD"===n||i)&&(0,p.jsx)(x,{tipId:parseInt(e.id),tip:i,isForm:n})]})}},11838:function(e,n,t){t.d(n,{Z:function(){return i}});t(72791);var a=t(80184);var i=function(e){var n=e.title,t=e.element;return(0,a.jsx)("div",{className:"toolbar",id:"kt_toolbar",children:(0,a.jsxs)("div",{id:"kt_toolbar_container",className:"container-fluid d-flex flex-stack",children:[(0,a.jsx)("h1",{className:"d-flex align-items-center text-dark fw-bolder my-1 fs-3",children:n}),t]})})}}}]);
//# sourceMappingURL=693.af15b587.chunk.js.map