import{a7 as p,Y as b,ab as j,_ as g,j as a,a8 as u,aa as N,a4 as f,a5 as v,a2 as r,ac as y,K as w,a9 as T}from"./index-CJshWYnI.js";import{u as k}from"./useDebounce-13UTunp1.js";import{u as A}from"./useQueryParams-BB8P-r7K.js";function _(){const c=p(),{query:e,handleQueryString:t}=A(),d=k(e.search||""),{responseArray:i,totalItem:o,totalPage:m}=b(!0,g.CONTRACTS,{...j,"filter[organization.subdomain]":d,page:(e==null?void 0:e.page)??1}),x=i??[];return a.jsxs(a.Fragment,{children:[a.jsx(u,{title:"Danh sách hợp đồng"}),a.jsxs("div",{className:"card mb-5 mb-xl-8",children:[a.jsx("div",{className:"card-header border-0 pt-5",children:a.jsxs("h3",{className:"card-title align-items-start flex-column",children:[a.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"Hợp đồng"}),a.jsx("span",{className:"text-muted mt-1 fw-semobold fs-7",children:o})]})}),a.jsx("div",{className:"card-header border-0 pt-5",children:a.jsx("div",{className:"w-25",children:a.jsx("input",{type:"text",className:"form-control form-control-solid w-100",placeholder:"Org subdomain...",defaultValue:e.search,onChange:s=>t("search",s.target.value)})})}),a.jsx("div",{className:"card-body py-3",children:a.jsx("div",{className:"table-responsive",children:a.jsxs("table",{className:"table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"fw-bold text-muted",children:[a.jsx("th",{className:"min-w-120px",children:"Doanh nghiệp"}),a.jsx("th",{className:"min-w-140px",children:"Gói"}),a.jsx("th",{className:"min-w-120px",children:"Tên công ty"}),a.jsx("th",{className:"min-w-100px",children:"Type"}),a.jsx("th",{className:"min-w-100px",children:"Trạng thái"}),a.jsx("th",{className:"min-w-100px",children:"Ngày tạo"}),a.jsx("th",{className:"min-w-100px",children:"Thay đổi"}),a.jsx("th",{className:"min-w-100px text-end",children:"Actions"})]})}),a.jsx("tbody",{children:x.map((s,h)=>{var n,l;return a.jsxs("tr",{children:[s.organization&&a.jsx("td",{children:a.jsxs("div",{className:"d-flex align-items-center",children:[a.jsx("div",{className:"symbol symbol-50px me-5",children:a.jsx(N,{src:s.organization.image_url})}),a.jsxs("div",{className:"d-flex justify-content-start flex-column",children:[a.jsx("span",{className:"text-dark fw-bold text-hover-primary mb-1 fs-6",children:s.organization.name}),a.jsx("span",{className:"text-muted fw-semobold text-muted d-block fs-7",children:s.organization.address})]})]})}),a.jsx("td",{children:a.jsx("span",{className:"text-dark fw-bold d-block mb-1 fs-6",children:s.package_name})}),a.jsx("td",{children:a.jsx("span",{className:"text-dark fw-bold d-block mb-1 fs-6",children:s.company_name})}),a.jsx("td",{children:a.jsx(f,{type:(n=s.approve)==null?void 0:n.type})}),a.jsx("td",{className:"text-dark fw-bold text-hover-primary fs-6",children:a.jsx(v,{status:(l=s.approve)==null?void 0:l.status})}),a.jsx("td",{children:a.jsx("span",{className:"text-muted fw-semobold text-muted d-block fs-7 mt-1",children:r(s.created_at).format("HH:mm-DD/MM/YYYY")})}),a.jsx("td",{children:a.jsx("span",{className:"text-muted fw-semobold text-muted d-block fs-7 mt-1",children:r(s.updated_at).format("HH:mm-DD/MM/YYYY")})}),a.jsxs("td",{className:"text-end",children:[a.jsx("button",{onClick:()=>c(y.CONTRACTS_DETAIL(s.id)),style:{marginRight:"4px"},className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm",children:a.jsx("i",{className:"bi bi-eye"})}),a.jsx("button",{className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:a.jsx(w,{path:"/media/icons/duotune/art/art005.svg",className:"svg-icon-3"})})]})]},h)})})]})})})]}),a.jsx(T,{defaultPage:(e==null?void 0:e.page)??1,onChangePage:s=>t("page",s),totalPage:m})]})}export{_ as default};
