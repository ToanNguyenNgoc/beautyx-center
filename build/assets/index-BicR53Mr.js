import{a8 as m,j as s,as as t,a9 as d,ak as h,cN as x,K as n,ax as a}from"./index-Cy0ECsl2.js";import{r as p}from"./roleAndPermissionApi-r4aFHIJS.js";import{u as j}from"./useGetRoles-C5IIu1Qz.js";function v(){const i=m(),{roles:r,refetch:l}=j(),c=e=>{p.roleDelete(e).then(()=>{a.open({title:"Xóa thành công !"}),l()}).catch(()=>a.open({title:"Có lỗi xảy ra !"}))};return s.jsxs(t,{permissions:["v1.roles.index"],showEmpty:!0,children:[s.jsx(d,{title:"Phân quyền",element:s.jsx(t,{permissions:["v1.roles.store"],children:s.jsx(h,{onClick:()=>i("/pages/roles-form"),variant:"contained",size:"large",children:"Tạo mới quyền"})})}),s.jsx("div",{className:"card mb-5 mb-xl-8",children:s.jsx("div",{className:"card-body py-3",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table align-middle gs-0 gy-4",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"fw-bold text-muted bg-light",children:[s.jsx("th",{className:"ps-4 min-w-120px rounded-start",children:"#"}),s.jsx("th",{className:"min-w-250px",children:"Tên quyền"}),s.jsx("th",{className:"min-w-100px",children:"Action"})]})}),s.jsx("tbody",{children:r.filter(e=>e.guard_name==="api").map((e,o)=>s.jsxs("tr",{children:[s.jsx("td",{children:o+1}),s.jsx("td",{children:e.name}),s.jsx("td",{children:e.name!==x&&s.jsxs(s.Fragment,{children:[s.jsx(t,{permissions:["v1.roles.show","v1.roles.patch"],children:s.jsx("button",{onClick:()=>i(`/pages/roles-form/${e.id}`,{state:e.name}),"aria-label":"Xem chi tiết",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:s.jsx(n,{path:"/media/icons/duotune/art/art005.svg",className:"svg-icon-3"})})}),s.jsx(t,{permissions:["v1.roles.destroy"],children:s.jsx("button",{onClick:()=>c(e.id),"aria-label":"Xem chi tiết",className:"btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",children:s.jsx(n,{path:"/media/icons/duotune/general/gen027.svg",className:"svg-icon-3"})})})]})})]},e.id))})]})})})})]})}export{v as default};
