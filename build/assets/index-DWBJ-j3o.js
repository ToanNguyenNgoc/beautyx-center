import{a8 as v,j as e,L as T,a3 as R,bM as u,co as B,cF as D,e as $,X as L,a as o,Y as U,aF as n,a9 as G,cG as A,aA as F,aB as H,aC as d,aa as W,cH as X,_ as Z}from"./index-B-8ZwVwN.js";function K({item:s}){const l=v(),a=c=>{l(`/pages/service-form/view_service/${c==null?void 0:c.service_id}`)},h=c=>{l(`/pages/service-form/${c==null?void 0:c.service_id}`)};return e.jsxs("tr",{className:"text-gray-400 fw-bold fs-7 gs-0",children:[e.jsx("td",{className:" sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(T,{to:"#",className:"symbol symbol-50px",children:e.jsx("img",{onError:c=>R(c),className:"symbol-label",src:`${s==null?void 0:s.org_image}`,alt:""})}),e.jsx("div",{className:"ms-5",children:e.jsx("a",{href:"/metronic8/demo1/../demo1/apps/ecommerce/catalog/edit-product.html",className:"text-dark fs-5 fw-bold text-hover-success",children:s==null?void 0:s.service_name})})]})}),e.jsx("th",{className:"sorting text-gray-600",children:u(s==null?void 0:s.price)}),e.jsx("th",{className:"sorting text-gray-800",children:u(B(s==null?void 0:s.special_price,s==null?void 0:s.special_price_momo))}),e.jsx("th",{className:"sorting text-gray-600",children:s==null?void 0:s.org_name}),e.jsx("th",{className:" sorting",children:e.jsx(D,{status:s==null?void 0:s.is_momo_ecommerce_enable})}),e.jsxs("th",{className:"text-end",children:[e.jsx("button",{onClick:()=>a(s),style:{marginRight:"8px"},className:"btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4",children:e.jsx("i",{className:"bi bi-eye-fill fs-6"})}),e.jsx("button",{onClick:()=>h(s),className:"btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4",children:e.jsx("i",{className:"bi bi-pencil-fill fs-6"})})]})]})}function V(){const s=$(),l=v(),a=L()??{},[h,c]=o.useState(),[w,b]=o.useState((a==null?void 0:a.sort)||""),[f,S]=o.useState("1"),[j,N]=o.useState(!0),x={page:a==null?void 0:a.page,sort:a==null?void 0:a.sort},i=o.useRef(null),_={...X,page:(a==null?void 0:a.page)??1,"filter[keyword]":h,sort:w,"filter[is_momo_ecommerce_enable]":j},{responseArray:m,totalItem:y,totalPage:C}=U(!0,`${Z.SERVICES}`,_),k=o.useCallback(n.debounce(t=>c(t),600),[]),P=()=>{var t;k((t=i==null?void 0:i.current)==null?void 0:t.value)},I=()=>{N(!j)},M=t=>{const r={...x,page:t},g=`${new URLSearchParams(n.pickBy(r,n.identity)).toString()}`;l({pathname:s.pathname,search:g})},E=t=>{S(t.target.value)},p=t=>{b(t);const r={...x,page:"1",sort:t},g=`${new URLSearchParams(n.pickBy(r,n.identity)).toString()}`;l({pathname:s.pathname,search:g})};return e.jsxs("div",{children:[e.jsx(G,{title:"Dịch vụ",element:e.jsxs("div",{className:"d-flex align-items-center position-relative  search-service",children:[e.jsx("span",{className:"svg-icon svg-icon-1 position-absolute ms-4",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{opacity:"0.5",x:"17.0365",y:"15.1223",width:"8.15546",height:"2",rx:"1",transform:"rotate(45 17.0365 15.1223)",fill:"currentColor"}),e.jsx("path",{d:"M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z",fill:"currentColor"})]})}),e.jsx("input",{onChange:()=>P(),ref:i,type:"text","data-kt-ecommerce-product-filter":"search",className:"form-control form-control-solid w-200px ps-14",placeholder:"Tìm kiếm dịch vụ"})]})}),e.jsxs("div",{className:"card mb-5 mb-xl-8",children:[e.jsxs("div",{className:"card-header border-0 pt-5",children:[e.jsxs("h3",{className:"card-title align-items-start flex-column",children:[e.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"Danh sách dịch vụ"}),e.jsxs("span",{className:"text-muted mt-1 fw-semobold fs-7",children:[y," Dịch vụ"]})]}),e.jsxs("div",{className:"flex-row align-items-center table-responsive category-service gap-4",children:[e.jsxs("div",{className:"flex-row align-items-center gap-2",children:[e.jsx("span",{style:{whiteSpace:"nowrap"},className:"text-gray-400 fw-bold fs-7 gs-0",children:"Bật/tắt TMĐT:"}),e.jsx(A,{defaultChecked:!0,color:"success",onChange:I})]}),e.jsxs("div",{className:"flex-row align-items-center",children:[e.jsx("span",{style:{whiteSpace:"nowrap"},className:"text-gray-400 fw-bold fs-7 gs-0",children:"Bộ lọc:"}),e.jsx(F,{children:e.jsxs(H,{value:f,onChange:E,children:[e.jsx(d,{onClick:()=>{b("");const t={...x,page:a==null?void 0:a.page,sort:""},r=`${new URLSearchParams(n.pickBy(t,n.identity)).toString()}`;l({pathname:s.pathname,search:r})},value:1,children:"Tất cả"}),e.jsx(d,{onClick:()=>p("price"),value:2,children:"Giá thấp"}),e.jsx(d,{onClick:()=>p("bought_count"),value:3,children:"Mua nhiều nhất"}),e.jsx(d,{onClick:()=>p("created_date"),value:4,children:"Mới nhất"})]})})]})]})]}),e.jsx("div",{className:"card-body py-3",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table align-middle gs-0 gy-4 table-row-dashed ",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-400 fw-bold fs-7 gs-0",children:[e.jsx("th",{className:"min-w-200px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"25%"},children:"Dịch vụ"}),e.jsx("th",{className:"min-w-50px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"10%"},children:"Giá gốc"}),e.jsx("th",{className:"min-w-70px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"10%"},children:"Giá giảm"}),e.jsx("th",{className:"min-w-150px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"20%"},children:"Doanh nghiệp"}),e.jsx("th",{className:"min-w-50px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"15%"},children:"Trạng thái TMĐT"}),e.jsx("th",{className:"min-w-100px text-end",rowSpan:1,colSpan:1,style:{width:"10%"},children:"Tùy chọn"})]})}),e.jsx("tbody",{children:m==null?void 0:m.map((t,r)=>e.jsx(K,{item:t},r))})]})})})]}),e.jsx(W,{totalPage:C,onChangePage:M,defaultPage:(a==null?void 0:a.page)??1})]})}export{V as default};
