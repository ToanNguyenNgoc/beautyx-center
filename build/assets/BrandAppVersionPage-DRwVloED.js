import{e as h,a7 as b,ad as j,Q as g,j as a,a as u,a8 as f,at as N,al as v,L as d,av as o,am as y,a9 as w,aE as _}from"./index-CJshWYnI.js";import{u as k}from"./useQueryParams-BB8P-r7K.js";import{a as P}from"./adminApi-Cbx7fn9c.js";const Q=()=>{var l;const c=h(),m=b(),s=j(),t=(s==null?void 0:s.os_platform)||"ios",i=s==null?void 0:s.bundle,{query:n,handleQueryString:x}=k(),{data:r,isLoading:p}=g({queryKey:[_.BrandAppVersions,t,i,n],queryFn:()=>P.getBrandAppVersion(String(i),{...n,append:"media_url",sort:"-created_at","filter[os_platform]":t}),enabled:!!i});return a.jsxs(u.Fragment,{children:[a.jsx(f,{element:a.jsx(N,{permissions:["v1.brand_app_versions.store"],children:a.jsxs(v,{variant:"contained",size:"small",onClick:()=>m(c.pathname+"/form"),children:["Tạo mới version ",t]})}),title:`Danh sách version ${t}`}),a.jsxs("div",{className:"card p-3",children:[a.jsxs("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:[a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx(d,{to:`/pages/brand-apps/${i}/ios`,className:`nav-link ${t==="ios"?"active":""}`,id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#ios",type:"button",role:"tab","aria-controls":"ios","aria-selected":"true",children:"Ios"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx(d,{to:`/pages/brand-apps/${i}/android`,className:`nav-link ${t==="android"?"active":""}`,id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#android",type:"button",role:"tab","aria-controls":"android","aria-selected":"false",children:"Android"})})]}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{className:"card",children:a.jsx("div",{className:"card-body py-3",children:a.jsxs("div",{className:"table-responsive",children:[a.jsxs("table",{className:"table table-row-bordered table-row-gray-100 align-middle gs-0 gy-3",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"fw-bold text-muted",children:[a.jsx("th",{className:"min-w-150px",children:"Bundle Id"}),a.jsx("th",{className:"min-w-150px",children:"Version"}),a.jsx("th",{className:"min-w-120px",children:"Ngày tạo"}),a.jsx("th",{className:"min-w-120px",children:"Cập nhật"}),a.jsx("th",{className:"min-w-120px",children:"File"})]})}),a.jsx("tbody",{children:(l=r==null?void 0:r.context.data)==null?void 0:l.map(e=>a.jsxs("tr",{children:[a.jsx("td",{children:a.jsxs("span",{className:"text-dark fw-bold text-hover-primary fs-6",children:["#",e.id]})}),a.jsx("td",{children:a.jsx("span",{className:"text-dark fw-bold text-hover-primary d-block mb-1 fs-6",children:e.version})}),a.jsx("td",{children:a.jsx("span",{className:"text-dark fw-bold text-hover-primary d-block mb-1 fs-6",children:o(e.created_at)})}),a.jsx("td",{children:a.jsx("span",{className:"text-dark fw-bold text-hover-primary d-block mb-1 fs-6",children:o(e.updated_at)})}),a.jsx("td",{className:"text-dark fw-bold text-hover-primary fs-6",children:e.media_url})]},e.id))})]}),a.jsx(y,{loading:p}),a.jsx(w,{totalPage:(r==null?void 0:r.context.last_page)??1,onChangePage:e=>x("page",e),defaultPage:n.page})]})})})})]})]})};export{Q as default};
