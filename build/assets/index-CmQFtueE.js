import{j as s,L as T,a3 as R,bO as p,cM as E,cJ as B,e as U,a7 as D,a as c,X as L,Y as A,ah as r,a8 as G,cK as $,az as O,aA as Z,aB as o,a9 as F,cN as K,_ as W}from"./index-CzmKoHlB.js";function X({item:e}){return s.jsxs("tr",{className:"text-gray-400 fw-bold fs-7 gs-0",children:[s.jsx("td",{className:" sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx(T,{to:"#",className:"symbol symbol-50px",children:s.jsx("img",{onError:l=>R(l),className:"symbol-label",src:`${e==null?void 0:e.org_image}`,alt:""})}),s.jsx("div",{className:"ms-5",children:s.jsx("a",{href:"/metronic8/demo1/../demo1/apps/ecommerce/catalog/edit-product.html",className:"text-dark fs-5 fw-bold text-hover-success",children:e==null?void 0:e.product_name})})]})}),s.jsx("th",{className:"sorting text-gray-600",children:p(e==null?void 0:e.retail_price)}),s.jsx("th",{className:"sorting text-gray-800",children:p(E(e==null?void 0:e.special_price,e==null?void 0:e.special_price_momo))}),s.jsx("th",{className:"sorting text-gray-600",children:e==null?void 0:e.org_name}),s.jsx("th",{className:" sorting",children:s.jsx(B,{status:e==null?void 0:e.is_momo_ecommerce_enable})}),s.jsxs("th",{className:"text-end",children:[s.jsx("button",{style:{marginRight:"8px"},className:"btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4",children:s.jsx("i",{className:"bi bi-eye-fill fs-6"})}),s.jsx("button",{className:"btn btn-bg-light btn-color-muted btn-active-color-primary btn-sm px-4",children:s.jsx("i",{className:"bi bi-pencil-fill fs-6"})})]})]})}function H(){const e=U(),l=D(),i=c.useRef(null),a=L()??{},[g,b]=c.useState("1"),[j,u]=c.useState((a==null?void 0:a.sort)||""),[m,w]=c.useState(!0),[f,N]=c.useState(),x={page:a==null?void 0:a.page,sort:a==null?void 0:a.sort},_={...K,page:(a==null?void 0:a.page)??1,"filter[keyword]":f,sort:j,"filter[is_momo_ecommerce_enable]":m},{responseArray:h,totalItem:v,totalPage:y}=A(!0,W.PRODUCTS,_),S=c.useCallback(r.debounce(t=>N(t),600),[]),C=()=>{var t;S((t=i==null?void 0:i.current)==null?void 0:t.value)},k=t=>{l({pathname:e.pathname,search:`page=${t}`})},P=t=>{b(t.target.value)},I=()=>{w(!m)},d=t=>{u(t);const n={...x,page:"1",sort:t},M=`${new URLSearchParams(r.pickBy(n,r.identity)).toString()}`;l({pathname:e.pathname,search:M})};return s.jsxs(s.Fragment,{children:[s.jsx(G,{element:s.jsxs("div",{className:"d-flex align-items-center position-relative  search-service",children:[s.jsx("span",{className:"svg-icon svg-icon-1 position-absolute ms-4",children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("rect",{opacity:"0.5",x:"17.0365",y:"15.1223",width:"8.15546",height:"2",rx:"1",transform:"rotate(45 17.0365 15.1223)",fill:"currentColor"}),s.jsx("path",{d:"M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z",fill:"currentColor"})]})}),s.jsx("input",{onChange:()=>C(),ref:i,type:"text","data-kt-ecommerce-product-filter":"search",className:"form-control form-control-solid w-200px ps-14",placeholder:"Tìm kiếm sản phẩm"})]}),title:"Sản phẩm"}),s.jsxs("div",{className:"card mb-5 mb-xl-8",children:[s.jsxs("div",{className:"card-header border-0 pt-5",children:[s.jsxs("h3",{className:"card-title align-items-start flex-column",children:[s.jsx("span",{className:"card-label fw-bold fs-3 mb-1",children:"Danh sách sản phẩm"}),s.jsxs("span",{className:"text-muted mt-1 fw-semobold fs-7",children:[v," sản phẩm"]})]}),s.jsxs("div",{className:"flex-row align-items-center table-responsive category-service gap-4",children:[s.jsxs("div",{className:"flex-row align-items-center gap-2",children:[s.jsx("span",{style:{whiteSpace:"nowrap"},className:"text-gray-400 fw-bold fs-7 gs-0",children:"Bật/tắt TMĐT:"}),s.jsx($,{defaultChecked:!0,color:"success",onChange:I})]}),s.jsxs("div",{className:"flex-row align-items-center",children:[s.jsx("span",{style:{whiteSpace:"nowrap"},className:"text-gray-400 fw-bold fs-7 gs-0",children:"Bộ lọc:"}),s.jsx(O,{children:s.jsxs(Z,{value:g,onChange:P,children:[s.jsx(o,{onClick:()=>{const t={...x,page:a==null?void 0:a.page,sort:""},n=`${new URLSearchParams(r.pickBy(t,r.identity)).toString()}`;l({pathname:e.pathname,search:n})},value:1,children:"Tất cả"}),s.jsx(o,{onClick:()=>d("product_name"),value:2,children:"A-Z"}),s.jsx(o,{onClick:()=>d("retail_price"),value:3,children:"Giá thấp"}),s.jsx(o,{onClick:()=>d("bought_count"),value:4,children:"Mua nhiều nhất"}),s.jsx(o,{onClick:()=>d("created_date"),value:5,children:"Mới nhất"})]})})]})]})]}),s.jsx("div",{className:"card-body py-3",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table align-middle gs-0 gy-4 table-row-dashed ",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-gray-400 fw-bold fs-7 gs-0",children:[s.jsx("th",{className:"min-w-200px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"25%"},children:"Dịch vụ"}),s.jsx("th",{className:"min-w-50px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"10%"},children:"Giá gốc"}),s.jsx("th",{className:"min-w-70px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"10%"},children:"Giá giảm"}),s.jsx("th",{className:"min-w-150px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"20%"},children:"Doanh nghiệp"}),s.jsx("th",{className:"min-w-50px sorting",tabIndex:0,"aria-controls":"kt_ecommerce_products_table",rowSpan:1,colSpan:1,style:{width:"15%"},children:"Trạng thái TMĐT"}),s.jsx("th",{className:"min-w-100px text-end",rowSpan:1,colSpan:1,style:{width:"10%"},children:"Tùy chọn"})]})}),s.jsx("tbody",{children:h==null?void 0:h.map((t,n)=>s.jsx(X,{item:t},n))})]})})})]}),s.jsx(F,{totalPage:y,onChangePage:k,defaultPage:(a==null?void 0:a.page)??1})]})}export{H as default};
